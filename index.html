<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Shirley Young</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="å‰ç«¯æ–°æ‰‹ï¼Œè¯·å¤šæŒ‡æ•™">
<meta property="og:type" content="website">
<meta property="og:title" content="Shirley Young">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Shirley Young">
<meta property="og:description" content="å‰ç«¯æ–°æ‰‹ï¼Œè¯·å¤šæŒ‡æ•™">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Shirley Young">
<meta name="twitter:description" content="å‰ç«¯æ–°æ‰‹ï¼Œè¯·å¤šæŒ‡æ•™">
  
    <link rel="alternative" href="/atom.xml" title="Shirley Young" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="https://avatars1.githubusercontent.com/u/29747867" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">ShirleyYoung</a></h1>
		</hgroup>

		
		<p class="header-subtitle">å‰ç«¯åšå®¢</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>èœå•</li>
						<li>æ ‡ç­¾</li>
						
						<li>å‹æƒ…é“¾æ¥</li>
						
						
						<li>å…³äºæˆ‘</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">ä¸»é¡µ</a></li>
				        
							<li><a href="/archives">æ‰€æœ‰æ–‡ç« </a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/codingShirley" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/p/1006062608078012/home" title="weibo">weibo</a>
					        
								<a class="mail" target="_blank" href="/codingshirley@gmail.com" title="mail">mail</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Accelerate/" style="font-size: 10px;">Accelerate</a> <a href="/tags/Fight/" style="font-size: 10px;">Fight</a> <a href="/tags/Injury/" style="font-size: 10px;">Injury</a> <a href="/tags/Playground/" style="font-size: 10px;">Playground</a> <a href="/tags/Shocking/" style="font-size: 10px;">Shocking</a> <a href="/tags/TouchID/" style="font-size: 10px;">TouchID</a> <a href="/tags/Universal-Links/" style="font-size: 10px;">Universal Links</a> <a href="/tags/blog-tools-ci/" style="font-size: 10px;">blog, tools, ci</a> <a href="/tags/defer/" style="font-size: 10px;">defer</a> <a href="/tags/document/" style="font-size: 10px;">document</a> <a href="/tags/guard/" style="font-size: 10px;">guard</a> <a href="/tags/hitTest/" style="font-size: 10px;">hitTest</a> <a href="/tags/javaScript/" style="font-size: 10px;">javaScript</a> <a href="/tags/lazy/" style="font-size: 10px;">lazy</a> <a href="/tags/nextResponder/" style="font-size: 10px;">nextResponder</a> <a href="/tags/phython/" style="font-size: 10px;">phython</a> <a href="/tags/responder-chain/" style="font-size: 10px;">responder chain</a> <a href="/tags/shell/" style="font-size: 10px;">shell</a> <a href="/tags/åšå®¢/" style="font-size: 10px;">åšå®¢</a> <a href="/tags/åŒæ­¥å¼‚æ­¥/" style="font-size: 10px;">åŒæ­¥å¼‚æ­¥</a> <a href="/tags/å¼€å‘æ•ˆç‡/" style="font-size: 10px;">å¼€å‘æ•ˆç‡</a> <a href="/tags/æ•ˆç‡/" style="font-size: 10px;">æ•ˆç‡</a> <a href="/tags/æ¸¸æˆ/" style="font-size: 10px;">æ¸¸æˆ</a> <a href="/tags/ç‰©ç†å¼•æ“/" style="font-size: 10px;">ç‰©ç†å¼•æ“</a> <a href="/tags/ç ”å‘æ‚è°ˆ/" style="font-size: 10px;">ç ”å‘æ‚è°ˆ</a> <a href="/tags/çº¿ç¨‹/" style="font-size: 10px;">çº¿ç¨‹</a> <a href="/tags/ç½‘ç«™/" style="font-size: 10px;">ç½‘ç«™</a> <a href="/tags/é€šç”¨é“¾æ¥/" style="font-size: 10px;">é€šç”¨é“¾æ¥</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://zhipingyang.github.io/">xcodeyang&#39;s blog&#39;</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">If you want to go fast, go alone. If you want to go far, go with others.</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">ShirleyYoung</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="https://avatars1.githubusercontent.com/u/29747867" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">ShirleyYoung</h1>
			</hgroup>
			
			<p class="header-subtitle">å‰ç«¯åšå®¢</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">ä¸»é¡µ</a></li>
		        
					<li><a href="/archives">æ‰€æœ‰æ–‡ç« </a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/codingShirley" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/p/1006062608078012/home" title="weibo">weibo</a>
			        
						<a class="mail" target="_blank" href="/codingshirley@gmail.com" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-2017-12-22" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/12/22/2017-12-22/" class="article-date">
  	<time datetime="2017-12-22T16:04:29.000Z" itemprop="datePublished">2017-12-22</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/22/2017-12-22/">ç¬¬6æœŸåšå®¢ï¼ˆå“åº”é“¾ï¼‰</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="iOSå“åº”é“¾ä¸­HitTestã€nextReponderçš„ä»‹ç»"><a href="#iOSå“åº”é“¾ä¸­HitTestã€nextReponderçš„ä»‹ç»" class="headerlink" title="iOSå“åº”é“¾ä¸­HitTestã€nextReponderçš„ä»‹ç»"></a>iOSå“åº”é“¾ä¸­HitTestã€nextReponderçš„ä»‹ç»</h1><blockquote>
<p>iOSçš„UIEventäº‹ä»¶æœ‰å¥½å‡ ç§ï¼šTouch Events(è§¦æ‘¸äº‹ä»¶)ã€Motion Events(è¿åŠ¨äº‹ä»¶)ã€Remote Events(è¿œç¨‹äº‹ä»¶)ï¼Œå…¶ä¸­æœ€å¸¸ç”¨çš„åº”è¯¥å°±æ˜¯Touch Eventsäº†ï¼Œä»Šå¤©æˆ‘ä»¬ä¸»è¦å°±è®²å®ƒï¼Œæ ¸å¿ƒå°±æ˜¯åˆ°<code>UIView</code>çš„<br><code>func hitTest(_ point: CGPoint, with event: UIEvent?) -&gt; UIView?</code><br>ä»¥åŠnextReponderä¸¤ä¸ª</p>
</blockquote>
<p><strong>æ¯”å¦‚æˆæœï¼šé­”å›¾&amp;å›¾ç‰‡æµè§ˆ å¤æ‚çš„è§†å›¾å±‚çº§æ‹†åˆ†</strong></p>
<p><img src="https://user-images.githubusercontent.com/9360037/34282300-3e5aab32-e6ff-11e7-87f3-4b9f4a1d5692.png" alt="wechatimg166"><br><img src="https://user-images.githubusercontent.com/9360037/34268452-b59c6ae4-e6bb-11e7-974e-63411e9f87b3.png" alt="pb"></p>
<p><strong>è€ƒä¸€è€ƒ:</strong> ç›´æ¥ç»§æ‰¿äºUIResponderçš„ç±»æœ‰å“ªäº›ï¼Ÿ</p>
<h2 id="UIResponder-å“åº”é“¾-ï¼Ÿï¼Ÿ"><a href="#UIResponder-å“åº”é“¾-ï¼Ÿï¼Ÿ" class="headerlink" title="UIResponder ?? å“åº”é“¾ ï¼Ÿï¼Ÿ"></a>UIResponder ?? å“åº”é“¾ ï¼Ÿï¼Ÿ</h2><ul>
<li>å“åº”é“¾æ˜¯ä»€ä¹ˆæ—¶å€™æ€æ ·æ„å»ºçš„ï¼Ÿ</li>
<li>äº‹ä»¶ç¬¬ä¸€ä¸ªå“åº”è€…æ˜¯æ€ä¹ˆç¡®å®šçš„ï¼Ÿ</li>
<li>äº‹ä»¶ç¬¬ä¸€ä¸ªå“åº”è€…ç¡®å®šåï¼Œç³»ç»Ÿæ˜¯æ€æ ·ä¼ é€’äº‹ä»¶çš„ï¼Ÿ</li>
</ul>
<h3 id="å“åº”é“¾çš„æ„å»º"><a href="#å“åº”é“¾çš„æ„å»º" class="headerlink" title="å“åº”é“¾çš„æ„å»º"></a>å“åº”é“¾çš„æ„å»º</h3><p>å…ˆçœ‹çœ‹UIResponderç±»</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">open <span class="keyword">var</span> next: <span class="type">UIResponder</span>? &#123; <span class="keyword">get</span> &#125;</div><div class="line">open <span class="keyword">var</span> canBecomeFirstResponder: <span class="type">Bool</span> &#123; <span class="keyword">get</span> &#125; <span class="comment">// default is NO    </span></div><div class="line"><span class="comment">// default is NO</span></div><div class="line">open <span class="function"><span class="keyword">func</span> <span class="title">becomeFirstResponder</span><span class="params">()</span></span> -&gt; <span class="type">Bool</span></div><div class="line">open <span class="keyword">var</span> canResignFirstResponder: <span class="type">Bool</span> &#123; <span class="keyword">get</span> &#125; <span class="comment">// default is YES    </span></div><div class="line"><span class="comment">// default is YES</span></div><div class="line">open <span class="function"><span class="keyword">func</span> <span class="title">resignFirstResponder</span><span class="params">()</span></span> -&gt; <span class="type">Bool</span></div><div class="line">open <span class="keyword">var</span> isFirstResponder: <span class="type">Bool</span> &#123; <span class="keyword">get</span> &#125;</div><div class="line"></div><div class="line">open <span class="function"><span class="keyword">func</span> <span class="title">touchesBegan</span><span class="params">(<span class="number">_</span> touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span></span></div><div class="line">open <span class="function"><span class="keyword">func</span> <span class="title">touchesMoved</span><span class="params">(<span class="number">_</span> touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span></span></div><div class="line">open <span class="function"><span class="keyword">func</span> <span class="title">touchesEnded</span><span class="params">(<span class="number">_</span> touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span></span></div><div class="line">open <span class="function"><span class="keyword">func</span> <span class="title">touchesCancelled</span><span class="params">(<span class="number">_</span> touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span></span></div></pre></td></tr></table></figure>
<p>å¸¸è§çš„è§¦æ‘¸å“åº”é“¾æ„å»º</p>
<blockquote>
<ol>
<li>addSubview</li>
<li>ViewController åˆå§‹åŒ–</li>
</ol>
</blockquote>
<p><img src="https://user-images.githubusercontent.com/9360037/34268459-b9c32874-e6bb-11e7-8227-ae124123a837.png" alt="res"></p>
<h4 id="äº‹ä»¶å“åº”è¿‡ç¨‹"><a href="#äº‹ä»¶å“åº”è¿‡ç¨‹" class="headerlink" title="äº‹ä»¶å“åº”è¿‡ç¨‹"></a>äº‹ä»¶å“åº”è¿‡ç¨‹</h4><ul>
<li>è§¦æ‘¸å¼€å§‹</li>
<li>äº‹ä»¶å…¥æ ˆ</li>
<li>runloopå“åº”</li>
<li>uiapplication äº‹ä»¶ä¼ é€’ç»™ windows</li>
<li>hitTest æ‰¾åˆ° view (<a href="https://lists.apple.com/archives/cocoa-dev/2014/Feb/msg00118.html" target="_blank" rel="external">hitTestä¼šè¢«è°ƒç”¨ä¸¤æ¬¡,ä¸ºä»€ä¹ˆï¼Œä¸çŸ¥é“ï¼Ÿ</a>)</li>
<li>hitView å“åº” touchEvent</li>
</ul>
<p><strong>æ ¸å¿ƒçš„æ–¹æ³•</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">hitTest</span><span class="params">(<span class="number">_</span> point: CGPoint, with event: UIEvent?)</span></span> -&gt; <span class="type">UIView</span>?</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">point</span><span class="params">(inside point: CGPoint, with event: UIEvent?)</span></span> -&gt; <span class="type">Bool</span></div></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼šhittest &amp; pointinsideæ˜¯uiviewçš„å®ä¾‹æ–¹æ³•</p>
</blockquote>
<p>æ¯”å¦‚tableviewçš„cellç‚¹å‡»,hitTestå¯»æ‰¾å“åº”cellçš„è¿‡ç¨‹</p>
<ul>
<li>windows</li>
<li>windows.rootController (navController).view</li>
<li>navController.rootControler (vc).view</li>
<li>tableview</li>
<li>some cell</li>
<li>contentView</li>
</ul>
<blockquote>
<p>Note: æŸ¥è¯¢è¿‡ç¨‹ä¹Ÿä¸æ˜¯è¿™ä¹ˆé¡ºåˆ©çš„ï¼Œæœ‰å¼¯è·¯ï¼Œä¹Ÿæœ‰å±æ€§é™åˆ¶</p>
</blockquote>
<ul>
<li>hittestæ‰“ç®—ä»åå¾€å‰éå†subviews,ç›´åˆ°æ‰¾åˆ°æ‰åœæ­¢éå†</li>
<li>subviewå¿…é¡»ç¬¦åˆ<ul>
<li>pointInside return YES</li>
<li>å±æ€§é™åˆ¶æœ‰<ul>
<li>alpha &gt; 0.01</li>
<li>hidden == NO</li>
<li>userInteractionEnabled == YES</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// æ¨¡æ‹ŸåŸç”Ÿæœªå¹²é¢„ä¸‹çš„ä»£ç </span></div><div class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">hitTest</span><span class="params">(<span class="number">_</span> point: CGPoint, with event: UIEvent?)</span></span> -&gt; <span class="type">UIView</span>? &#123;</div><div class="line">	<span class="keyword">if</span> !isUserInteractionEnabled || isHidden || alpha&lt;=<span class="number">0.01</span> &#123; <span class="keyword">return</span> <span class="literal">nil</span> &#125;</div><div class="line">	<span class="keyword">if</span> !<span class="keyword">self</span>.point(inside: point, with: event) &#123; <span class="keyword">return</span> <span class="literal">nil</span> &#125;</div><div class="line">	<span class="keyword">for</span> subview <span class="keyword">in</span> subviews.reversed() &#123;</div><div class="line">		<span class="keyword">let</span> convertPoint = subview.convert(point, from: <span class="keyword">self</span>)</div><div class="line">		<span class="keyword">let</span> subHitTestView = subview.hitTest(convertPoint, with: event)</div><div class="line">		<span class="keyword">if</span> <span class="keyword">let</span> hitTestView = subHitTestView &#123; <span class="keyword">return</span> hitTestView &#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="keyword">self</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="é‚£æˆ‘ä»¬å¹²é¢„åï¼ŒHitTestçš„å®æˆ˜åº”ç”¨å°±æœ‰"><a href="#é‚£æˆ‘ä»¬å¹²é¢„åï¼ŒHitTestçš„å®æˆ˜åº”ç”¨å°±æœ‰" class="headerlink" title="é‚£æˆ‘ä»¬å¹²é¢„åï¼ŒHitTestçš„å®æˆ˜åº”ç”¨å°±æœ‰"></a>é‚£æˆ‘ä»¬å¹²é¢„åï¼ŒHitTestçš„å®æˆ˜åº”ç”¨å°±æœ‰</h4><ul>
<li>å¤æ‚çš„è§†å›¾å±‚çº§çš„æ‹†åˆ†</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">hitTest</span><span class="params">(<span class="number">_</span> point: CGPoint, with event: UIEvent?)</span></span> -&gt; <span class="type">UIView</span>? &#123;</div><div class="line">	<span class="keyword">let</span> view = <span class="keyword">super</span>.hitTest(point, with: event)</div><div class="line">	<span class="keyword">return</span> view == <span class="keyword">self</span> ? <span class="literal">nil</span> : view</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>è‡ªå®šä¹‰Touchäº‹ä»¶ä¼ é€’å¯¹è±¡</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">hitTest</span><span class="params">(<span class="number">_</span> point: CGPoint, with event: UIEvent?)</span></span> -&gt; <span class="type">UIView</span>? &#123;</div><div class="line">	<span class="keyword">let</span> view = <span class="keyword">super</span>.hitTest(point, with: event)</div><div class="line">	<span class="keyword">return</span> view == someBtn ? anotherBtn : view</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>è‡ªå®šä¹‰æ§ä»¶çš„å“åº”åŒºåŸŸåŠå“åº”å±‚çº§</li>
</ul>
<blockquote>
<p>viewä¿®æ”¹å“åº”åŒºåŸŸæ–¹å¼æœ‰ä¸¤ç§ï¼Œä¸€ç§å¦‚ä¸‹ï¼Œå®ƒçš„superviewæ¥hitTestï¼Œç¬¬äºŒç§è‡ªå·±hitTest</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">hitTest</span><span class="params">(<span class="number">_</span> point: CGPoint, with event: UIEvent?)</span></span> -&gt; <span class="type">UIView</span>? &#123;</div><div class="line">	<span class="keyword">if</span> someBtn.frame.insetBy(dx: -<span class="number">10</span>, dy: -<span class="number">10</span>).<span class="built_in">contains</span>(point) &#123;</div><div class="line">		<span class="keyword">return</span> someBtn</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="keyword">super</span>.point(inside: point, with: event)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="å“åº”é“¾-nextResponder"><a href="#å“åº”é“¾-nextResponder" class="headerlink" title="å“åº”é“¾ .nextResponder"></a>å“åº”é“¾ .nextResponder</h2><blockquote>
<p>å’Œ hitTestè‡ªåº•å‘ä¸Šç›¸åï¼Œå®ƒæ˜¯ä»æœ€æœ«ç«¯çš„responderå‘ä¸‹ä¼ é€’ï¼ŒhitTestè‡ªä¸‹è€Œä¸ŠæŸ¥æ‰¾å“åº”çš„viewï¼ŒnextResponderæ˜¯åŸºäºhitTeståŸºç¡€ä¸Šï¼Œè‡ªä¸Šè€Œä¸‹å¯»æ‰¾eventçš„å“åº”è€…</p>
</blockquote>
<p>å¸¸è§çš„åº”ç”¨æ¡ˆä¾‹ï¼šBPUIResponderAdditionsä¸­çš„æ–¹æ³•ï¼Œå¯ä»¥æŸ¥æ‰¾viewçš„Controlleræˆ–navigationController</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">nullable</span> __kindof <span class="built_in">UIResponder</span> *)findNextResonderInClass:(<span class="keyword">nonnull</span> Class)responderClass</div><div class="line">&#123;</div><div class="line">	<span class="built_in">UIResponder</span> *next = <span class="keyword">self</span>;</div><div class="line">	<span class="keyword">do</span> &#123;</div><div class="line">		next = [next nextResponder];</div><div class="line">		<span class="keyword">if</span> ([next isKindOfClass:responderClass]) &#123;</div><div class="line">		<span class="keyword">break</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="comment">// next ä¸ä¸ºç©º ä¸” ä¸æ˜¯è¾¾åˆ°æœ€åº•å±‚çš„ appdelegate</span></div><div class="line">	&#125; <span class="keyword">while</span> (next!=<span class="literal">nil</span> &amp;&amp; ![next conformsToProtocol:<span class="class"><span class="keyword">@protocol</span>(<span class="title">UIApplicationDelegate</span>)]);</span></div><div class="line">	<span class="keyword">return</span> next;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// æŸ¥è¯¢å“åº”æœ€è¿‘çš„ controller</span></div><div class="line"><span class="built_in">UIViewController</span> *vc = [view findNextResonderInClass:[<span class="built_in">UIViewController</span> <span class="keyword">class</span>]];</div></pre></td></tr></table></figure>
<h4 id="çŸ¥è¯†ç‚¹ï¼š"><a href="#çŸ¥è¯†ç‚¹ï¼š" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><ul>
<li><strong>å“åº”é“¾äº‹ä»¶ä¼ é€’</strong></li>
</ul>
<blockquote>
<p>é€šè¿‡nextResponderå‘ä¸‹ä¼ é€’event</p>
</blockquote>
<p>æ¼”ç¤º</p>
<blockquote>
<p>touchesBegan / super.touchesBegan æˆ– nextResponder.touchesBegan ä¸€ç›´è°ƒç”¨ä¸‹å»</p>
</blockquote>
<ul>
<li><strong>ç¬¬ä¸€å“åº”è€…</strong><blockquote>
<p>æœ‰æ‹¦è…°æˆªæ–­çš„æ„æ€ï¼ŒåŸæœ‰çš„é¡¶éƒ¨ç¬¬ä¸€å“åº”è€…è¢«ä¿®æ”¹ï¼Œå“åº”é“¾ä¸­æ¥æ”¶äº‹ä»¶ç¬¬ä¸€äººï¼ˆå¸¸è§textFieldï¼ŒwebViewåŠUImenuControllerï¼Œè§demoï¼‰</p>
</blockquote>
</li>
</ul>
<p>æ¼”ç¤º</p>
<blockquote>
<ul>
<li>Button event å…ˆä¸‹ä¼ é€’</li>
<li>becomeFirstResponderåï¼ŒnextResponderæ— äº‹ä»¶ä¸‹ä¼ </li>
<li>canBecomeFirstResponder \ becomeFirstResponder æ‹¦æˆª</li>
</ul>
</blockquote>
<ul>
<li><strong>cancelsTouchesInView</strong></li>
</ul>
<blockquote>
<p>ç³»ç»Ÿä¼šå°†Touch cancelæ¶ˆæ¯å‘é€ç»™hitTestView ï¼Œå¹¶è°ƒç”¨hitTestViewçš„TouchCancel</p>
</blockquote>
<p>æ¼”ç¤º</p>
<blockquote>
<p>demo:buttonçš„touchUpInsideå¯¹UIPanGestureRecognizerçš„å½±å“</p>
</blockquote>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hitTest/">hitTest</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nextResponder/">nextResponder</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/responder-chain/">responder chain</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/share/">share</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-2016-07-29" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/29/2016-07-29/" class="article-date">
  	<time datetime="2016-07-29T14:30:00.000Z" itemprop="datePublished">2016-07-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/29/2016-07-29/">é€šç”¨é“¾æ¥ï¼ˆ Universal Links ï¼‰</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<ul>
<li>é€šè¿‡å”¯ä¸€çš„ç½‘å€, å°±å¯ä»¥é“¾æ¥ä¸€ä¸ªç‰¹å®šçš„è§†å›¾åˆ°ä½ çš„ APP é‡Œé¢, ä¸éœ€è¦ç‰¹åˆ«çš„ schema</li>
<li>ä¸å†éœ€è¦JavaScriptæ£€æŸ¥å¹³å°ï¼Œè·³è½¬ä¹Ÿä¸éœ€è¦jså»åšç‰¹å®šå¤„ç†</li>
<li>æ¯”schemeæ›´çµæ´»æ›´å®‰å…¨çš„åŒ¹é…URLè·³è½¬</li>
<li>å®ç°Appä¸Webä¸€ä½“åŒ–</li>
</ul>
<p>æ³¨æ„ï¼šä¸èƒ½ä½¿ç”¨æ¨¡æ‹Ÿå™¨è°ƒè¯•</p>
</blockquote>
<p><img src="https://s3-eu-west-1.amazonaws.com/hoko-blog/universal_links.png" alt="image"></p>
<blockquote>
<p>å·¥ä½œåŸç†ï¼šWhen the app is installed, the system downloads and verifies the site association file for each of its associated domains. If the verification is successful, the app is associated with the domain.</p>
</blockquote>
<p><strong>Configure your file server</strong></p>
<ul>
<li><p><a href="https://api-pre.51offer.com/apple-app-site-association" target="_blank" rel="external">æˆ‘ä»¬çš„æ ¹è·¯å¾„é…ç½®æ–‡ä»¶</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  &quot;applinks&quot;: &#123;</div><div class="line">		&quot;apps&quot;:[],</div><div class="line">    &quot;details&quot;: [</div><div class="line">      &#123;</div><div class="line">        &quot;appID&quot;: &quot;E8AR4L3B2P.com.horizon.offer&quot;,</div><div class="line">        &quot;paths&quot;:[ &quot;/path/*&quot; ]</div><div class="line">      &#125;</div><div class="line">    ]</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><a href="https://branch.io/resources/universal-links/" target="_blank" rel="external">æ ¹è·¯å¾„é…ç½®æœ‰æ•ˆæ€§éªŒè¯</a></p>
</li>
</ul>
<h5 id="è¦æ±‚å¦‚ä¸‹ï¼š"><a href="#è¦æ±‚å¦‚ä¸‹ï¼š" class="headerlink" title="è¦æ±‚å¦‚ä¸‹ï¼š"></a>è¦æ±‚å¦‚ä¸‹ï¼š</h5><blockquote>
<p>Alright! So you have your signed apple-app-site-association file. Now you just need to configure your file server to host this for you. There are a few caveats:</p>
<ul>
<li>It must be sent with the header â€˜application/pkcs7-mimeâ€™</li>
<li>It must be sent from the endpoint youdomain.com/apple-app-site-association</li>
<li>It must return a 200 http code.</li>
</ul>
<p>We set up the one for all Branch integrated apps using our Node+Express link servers. Hereâ€™s the code we used in case thatâ€™s helpful:</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> aasa = fs.readFileSync(__dirname + <span class="string">'/static/apple-app-site-association'</span>);</div><div class="line">app.get(<span class="string">'/apple-app-site-association'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">     res.set(<span class="string">'Content-Type'</span>, <span class="string">'application/pkcs7-mime'</span>);</div><div class="line">     res.status(<span class="number">200</span>).send(aasa);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>å¯ä»¥ä»åŸæœ‰çš„schemeè¿‡æ¸¡è¿‡æ¥<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">BOOL</span>)application:(<span class="built_in">UIApplication</span> *)application openURL:(<span class="built_in">NSURL</span> *)url sourceApplication:(<span class="built_in">NSString</span> *)sourceApplication annotation:(<span class="keyword">id</span>)annotation &#123;</div><div class="line">    [<span class="keyword">self</span> handleRouting:url];</div><div class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="built_in">BOOL</span>)application:(<span class="built_in">UIApplication</span> *)application continueUserActivity:(<span class="built_in">NSUserActivity</span> *)userActivity restorationHandler:(<span class="keyword">void</span> (^)(<span class="built_in">NSArray</span> *))restorationHandler &#123;</div><div class="line">    <span class="keyword">if</span> ([userActivity.activityType isEqualToString:<span class="built_in">NSUserActivityTypeBrowsingWeb</span>]) &#123;</div><div class="line">        [<span class="keyword">self</span> handleRouting:userActivity.webpageURL];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)handleRouting:(<span class="built_in">NSURL</span> *)url &#123;</div><div class="line">....</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong>è§†é¢‘</strong>ä¼˜å…ˆæ¨è<br><a href="https://developer.apple.com/videos/play/wwdc2015/509/" target="_blank" rel="external">https://developer.apple.com/videos/play/wwdc2015/509/</a></p>
<p><strong>ä¼˜ç§€åšå®¢</strong><br><a href="https://blog.branch.io/how-to-setup-universal-links-to-deep-link-on-apple-ios-9" target="_blank" rel="external">https://blog.branch.io/how-to-setup-universal-links-to-deep-link-on-apple-ios-9</a></p>
<p><a href="https://blog.branch.io/ios-9.2-deep-linking-guide-transitioning-to-universal-links" target="_blank" rel="external">https://blog.branch.io/ios-9.2-deep-linking-guide-transitioning-to-universal-links</a></p>
<p><a href="http://blog.hokolinks.com/how-to-implement-apple-universal-links-on-ios-9/" target="_blank" rel="external">http://blog.hokolinks.com/how-to-implement-apple-universal-links-on-ios-9/</a></p>
<p><strong>å¯èƒ½å‡ºç°çš„bug</strong>ï¼ˆå·¨å‘ï¼Œä¹Ÿå¯èƒ½æ˜¯é…ç½®é—®é¢˜ï¼‰<br><a href="http://stackoverflow.com/questions/32751225/ios9-universal-links-does-not-work" target="_blank" rel="external">http://stackoverflow.com/questions/32751225/ios9-universal-links-does-not-work</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Universal-Links/">Universal Links</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/é€šç”¨é“¾æ¥/">é€šç”¨é“¾æ¥</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/ç§»åŠ¨ç»„å‘¨æŠ€æœ¯åˆ†äº«/">ç§»åŠ¨ç»„å‘¨æŠ€æœ¯åˆ†äº«</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-2016-07-22" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/22/2016-07-22/" class="article-date">
  	<time datetime="2016-07-22T14:45:00.000Z" itemprop="datePublished">2016-07-22</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/22/2016-07-22/">ç§»åŠ¨å‘¨åˆ†äº«-ç¬¬60æœŸ</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="åŠ é€Ÿåº“åœ¨æ•°å­¦è¿ç®—ä¸­çš„ä½¿ç”¨"><a href="#åŠ é€Ÿåº“åœ¨æ•°å­¦è¿ç®—ä¸­çš„ä½¿ç”¨" class="headerlink" title="åŠ é€Ÿåº“åœ¨æ•°å­¦è¿ç®—ä¸­çš„ä½¿ç”¨"></a>åŠ é€Ÿåº“åœ¨æ•°å­¦è¿ç®—ä¸­çš„ä½¿ç”¨</h2><blockquote>
<p>é™¤äº†åŠ å‡ä¹˜é™¤å¤–è¿˜æœ‰å¥½å¤šå¥½å¤šæ•°å­¦è¿ç®—éœ€è¦æˆ‘ä»¬å¤„ç†ï¼Œä½†æˆ‘ä»¬å¾ˆå¤šéƒ½æ²¡æœ‰ç”¨åˆ°ï¼Œæ„Ÿè§‰lowçˆ†äº†</p>
</blockquote>
<h3 id="Appleï¼šåŠ é€Ÿæ¡†æ¶æ–‡æ¡£"><a href="#Appleï¼šåŠ é€Ÿæ¡†æ¶æ–‡æ¡£" class="headerlink" title="Appleï¼šåŠ é€Ÿæ¡†æ¶æ–‡æ¡£"></a><a href="https://developer.apple.com/library/ios/documentation/Accelerate/Reference/vDSPRef/index.html#//apple_ref/doc/uid/TP40009464-CH13-12342" target="_blank" rel="external">Appleï¼šåŠ é€Ÿæ¡†æ¶æ–‡æ¡£</a></h3><blockquote>
<p>Any time youâ€™ve got to make some numbers happen, itâ€™s probably worth it to consider using Accelerate</p>
</blockquote>
<h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// æ¨¡æ‹Ÿéšæœºæ•°æ®</span></div><div class="line"><span class="keyword">var</span> doubles  = (<span class="number">0</span>...<span class="number">10000</span>).<span class="built_in">map</span> &#123;<span class="number">_</span> <span class="keyword">in</span> <span class="type">Double</span>(arc4random()%<span class="number">10000</span>)&#125;</div><div class="line"></div><div class="line"><span class="comment">// æ±‚å’Œ</span></div><div class="line"><span class="comment">// å¸¸è§çš„åŠ æ³•æ±‚å’Œ</span></div><div class="line"><span class="keyword">let</span> reduceSum = doubles.<span class="built_in">reduce</span>(<span class="number">0</span>) &#123; $<span class="number">0</span>+$<span class="number">1</span> &#125;</div><div class="line"><span class="comment">// Accelerate å°è£…</span></div><div class="line"><span class="keyword">let</span> accSum = sum(doubles)</div><div class="line"></div><div class="line"><span class="comment">// æ±‚æœ€å¤§å€¼ï¼ˆæœ€å°å€¼ä¹Ÿä¸€æ ·ï¼‰</span></div><div class="line"><span class="keyword">let</span> maxOfArr = <span class="built_in">max</span>(doubles)</div><div class="line"><span class="keyword">let</span> maxOfArr2 = doubles.<span class="built_in">maxElement</span></div><div class="line"><span class="comment">// let maxOfArr2 = doubles.sort(&gt;).first</span></div><div class="line"></div><div class="line"><span class="comment">// å¹³å‡å€¼,å“ˆå“ˆå¤§æ•°æ®ç»Ÿè®¡ï¼Œå¯ä»¥æµ‹è¯•å‡†ç¡®ç‡</span></div><div class="line"><span class="keyword">let</span> meanValue = mean(doubles)</div><div class="line"><span class="keyword">let</span> meanValue2 = doubles.<span class="built_in">reduce</span>(<span class="number">0</span>) &#123; $<span class="number">0</span> + $<span class="number">1</span>/<span class="type">Double</span>(doubles.<span class="built_in">count</span>) &#125;</div><div class="line">meanValue2</div><div class="line"></div><div class="line"><span class="comment">// å‘é‡åŠ å‡ä¹˜ç§¯</span></div><div class="line"><span class="keyword">let</span> vector1 = [<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>] <span class="keyword">as</span> [<span class="type">Double</span>]</div><div class="line"><span class="keyword">let</span> vector2 = [<span class="number">3</span>,<span class="number">5</span>,<span class="number">2</span>] <span class="keyword">as</span> [<span class="type">Double</span>]</div><div class="line"><span class="keyword">let</span> sumArrs = add(vector1, y: vector2)</div></pre></td></tr></table></figure>
<p>è€—æ—¶ä¸Šå¯¹æ¯”æ˜¯ä¸æ˜¯<code>reduceï¼Œmap</code>ç­‰ç³»ç»Ÿçš„é«˜é˜¶å‡½æ•°è¢«<code>â€œåŠ é€Ÿåº“â€</code>ç§’äº†ï¼Œä½†ä½¿ç”¨ä¸Šè²Œä¼¼reduceï¼Œmapæ˜¯æ¯”è¾ƒçµæ´»çš„<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> newReduceSum = (<span class="number">0</span>...<span class="number">1000</span>).<span class="built_in">reduce</span>(<span class="number">0</span>) &#123; $<span class="number">0</span>+$<span class="number">1</span> &#125;</div><div class="line">newReduceSum</div></pre></td></tr></table></figure></p>
<h3 id="å…¶ä»–è®¡ç®—çš„ä¸€ç‚¹çš„åº”ç”¨"><a href="#å…¶ä»–è®¡ç®—çš„ä¸€ç‚¹çš„åº”ç”¨" class="headerlink" title="å…¶ä»–è®¡ç®—çš„ä¸€ç‚¹çš„åº”ç”¨"></a>å…¶ä»–è®¡ç®—çš„ä¸€ç‚¹çš„åº”ç”¨</h3><blockquote>
<p>å‡½æ•°æ··åˆç¤ºä¾‹: ä½¿ç”¨ä¸­æ–‡å˜é‡ğŸ˜„</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> å‡½æ•°ç‚¹é˜µå¯†åº¦ = <span class="number">64</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> é¢‘ç‡<span class="number">1</span> = <span class="number">4.0</span></div><div class="line"><span class="keyword">let</span> ç›¸ä½<span class="number">1</span> = <span class="number">0.0</span></div><div class="line"><span class="keyword">let</span> å¹…åº¦<span class="number">1</span> = <span class="number">1.0</span></div><div class="line"><span class="keyword">let</span> æ­£å¼¦å‡½æ•°<span class="number">1</span> = (<span class="number">0</span>..&lt;å‡½æ•°ç‚¹é˜µå¯†åº¦).<span class="built_in">map</span> &#123;</div><div class="line">    å¹…åº¦<span class="number">1</span> * sin(<span class="number">2.0</span> * <span class="type">M_PI</span> / <span class="type">Double</span>(å‡½æ•°ç‚¹é˜µå¯†åº¦) * <span class="type">Double</span>($<span class="number">0</span>) * é¢‘ç‡<span class="number">1</span> + ç›¸ä½<span class="number">1</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> é¢‘ç‡<span class="number">2</span> = <span class="number">1.0</span></div><div class="line"><span class="keyword">let</span> ç›¸ä½<span class="number">2</span> = <span class="type">M_PI</span> / <span class="number">2.0</span></div><div class="line"><span class="keyword">let</span> å¹…åº¦<span class="number">2</span> = <span class="number">2.0</span></div><div class="line"><span class="keyword">let</span> æ­£å¼¦å‡½æ•°<span class="number">2</span> = (<span class="number">0</span>..&lt;å‡½æ•°ç‚¹é˜µå¯†åº¦).<span class="built_in">map</span> &#123;</div><div class="line">    å¹…åº¦<span class="number">2</span> * sin(<span class="number">2.0</span> * <span class="type">M_PI</span> / <span class="type">Double</span>(å‡½æ•°ç‚¹é˜µå¯†åº¦) * <span class="type">Double</span>($<span class="number">0</span>) * é¢‘ç‡<span class="number">2</span> + ç›¸ä½<span class="number">2</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> é¢‘ç‡<span class="number">3</span> = <span class="number">10.0</span></div><div class="line"><span class="keyword">let</span> ç›¸ä½<span class="number">3</span> = <span class="type">M_PI</span> / <span class="number">3.0</span></div><div class="line"><span class="keyword">let</span> å¹…åº¦<span class="number">3</span> = <span class="number">4.0</span></div><div class="line"><span class="keyword">let</span> æ­£å¼¦å‡½æ•°<span class="number">3</span> = (<span class="number">0</span>..&lt;å‡½æ•°ç‚¹é˜µå¯†åº¦).<span class="built_in">map</span> &#123;</div><div class="line">    å¹…åº¦<span class="number">3</span> * sin(<span class="number">2.0</span> * <span class="type">M_PI</span> / <span class="type">Double</span>(å‡½æ•°ç‚¹é˜µå¯†åº¦) * <span class="type">Double</span>($<span class="number">0</span>) * é¢‘ç‡<span class="number">3</span> + ç›¸ä½<span class="number">3</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> æ–°å‡½æ•°<span class="number">1</span> = add(æ­£å¼¦å‡½æ•°<span class="number">1</span>, y: æ­£å¼¦å‡½æ•°<span class="number">2</span>)</div><div class="line"><span class="keyword">let</span> æ–°å‡½æ•°<span class="number">2</span> = add(æ–°å‡½æ•°<span class="number">1</span>, y: æ­£å¼¦å‡½æ•°<span class="number">3</span>)</div><div class="line"></div><div class="line"><span class="comment">// Xcode åˆ†æ æŸ¥çœ‹å›¾å½¢æ’å¸ƒï¼Œå°¤å…¶æ˜¯æ–°å‡½æ•°çš„å›¾å½¢</span></div><div class="line">æ–°å‡½æ•°<span class="number">1</span>.forEach &#123; <span class="type">XCPlaygroundPage</span>.currentPage.captureValue($<span class="number">0</span>, withIdentifier:<span class="string">"æ–°å‡½æ•°1"</span>) &#125;</div><div class="line">æ–°å‡½æ•°<span class="number">2</span>.forEach &#123; <span class="type">XCPlaygroundPage</span>.currentPage.captureValue($<span class="number">0</span>, withIdentifier:<span class="string">"æ–°å‡½æ•°2"</span>) &#125;</div><div class="line"></div><div class="line">æ­£å¼¦å‡½æ•°<span class="number">2</span>.forEach &#123; <span class="type">XCPlaygroundPage</span>.currentPage.captureValue($<span class="number">0</span>, withIdentifier:<span class="string">"æ­£å¼¦å‡½æ•°2"</span>) &#125;</div><div class="line"></div><div class="line">æ­£å¼¦å‡½æ•°<span class="number">1</span>.forEach &#123; <span class="type">XCPlaygroundPage</span>.currentPage.captureValue($<span class="number">0</span>, withIdentifier:<span class="string">"æ­£å¼¦å‡½æ•°1"</span>) &#125;</div></pre></td></tr></table></figure>
<h4 id="å‚…é‡Œå¶å˜æ¢é€šä¿—ç¯‡è®²è§£"><a href="#å‚…é‡Œå¶å˜æ¢é€šä¿—ç¯‡è®²è§£" class="headerlink" title="å‚…é‡Œå¶å˜æ¢é€šä¿—ç¯‡è®²è§£"></a>å‚…é‡Œå¶å˜æ¢é€šä¿—ç¯‡<a href="https://www.douban.com/note/164400821" target="_blank" rel="external">è®²è§£</a></h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// æŸ¥çœ‹å›¾åƒå‘ç°â€˜æ–°å‡½æ•°2â€™å·¦å³æœ‰ä¸‰å¯¹æ³¢å³°ï¼Œå¾—å‡ºå®ƒç”±ä¸‰ä¸ªæ­£å¼¦æ³¢ç»„æˆï¼ˆå¯å¯¹åº”å¾—å‡ºæŒ¯å¹…ã€é¢‘ç‡åŠç›¸ä½ï¼‰</span></div><div class="line"><span class="keyword">let</span> å¿«é€Ÿå‚…é‡Œå¶è½¬æ¢ = fft(æ–°å‡½æ•°<span class="number">2</span>)</div><div class="line">å¿«é€Ÿå‚…é‡Œå¶è½¬æ¢.forEach &#123; <span class="type">XCPlaygroundPage</span>.currentPage.captureValue($<span class="number">0</span>, withIdentifier:<span class="string">"å¿«é€Ÿå‚…é‡Œå¶è½¬æ¢"</span>) &#125;</div></pre></td></tr></table></figure>
<h3 id="çŸ©é˜µè®¡ç®—"><a href="#çŸ©é˜µè®¡ç®—" class="headerlink" title="çŸ©é˜µè®¡ç®—"></a>çŸ©é˜µè®¡ç®—</h3><blockquote>
<p>å¾ˆå¤šå›¾åƒå¤„ç†æ˜¯æ ¹æ®çŸ©é˜µåšå¤„ç†çš„ï¼Œåƒç´ è¶Šå¤§ï¼Œå¤„ç†æ€§èƒ½è¦æ±‚è¶Šé«˜</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ç®€å•çŸ©é˜µç¤ºä¾‹</span></div><div class="line"></div><div class="line"><span class="comment">// â› 1  2 â      â› 3  2 â       â› 5  6 â</span></div><div class="line"><span class="comment">// â¢      âŸ  *   â¢      âŸ   =   â¢      âŸ</span></div><div class="line"><span class="comment">// â 3 -4 â       â 1  2 â        â 5 -2 â </span></div><div class="line"></div><div class="line"><span class="keyword">let</span> <span class="type">A</span> = <span class="type">Matrix</span>([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, -<span class="number">4</span>]])</div><div class="line"><span class="keyword">let</span> <span class="type">B</span> = <span class="type">Matrix</span>([[<span class="number">3</span>, <span class="number">2</span>], [<span class="number">1</span>, <span class="number">2</span>]])</div><div class="line"><span class="keyword">let</span> <span class="type">C</span> = <span class="type">A</span> * <span class="type">B</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// åˆ©ç”¨é€†çŸ©é˜µæ±‚è§£</span></div><div class="line"><span class="comment">// â› 1  1 â        â› 3 â           â› 2 â</span></div><div class="line"><span class="comment">// â¢      âŸ * CC = â¢   âŸ    CC =   â¢   âŸ</span></div><div class="line"><span class="comment">// â 1 -1 â         â 1 â            â 1 â </span></div><div class="line"></div><div class="line"><span class="keyword">let</span> <span class="type">AA</span> = <span class="type">Matrix</span>([[<span class="number">1</span>, <span class="number">1</span>], [<span class="number">1</span>, -<span class="number">1</span>]])</div><div class="line"><span class="keyword">let</span> <span class="type">BB</span> = <span class="type">Matrix</span>([[<span class="number">3</span>], [<span class="number">1</span>]])</div><div class="line"><span class="keyword">let</span> <span class="type">CC</span> = inv(<span class="type">AA</span>) * <span class="type">BB</span></div></pre></td></tr></table></figure>
<h3 id="åº”ç”¨çš„åŠ é€Ÿåº“å‡½æ•°"><a href="#åº”ç”¨çš„åŠ é€Ÿåº“å‡½æ•°" class="headerlink" title="åº”ç”¨çš„åŠ é€Ÿåº“å‡½æ•°"></a>åº”ç”¨çš„åŠ é€Ÿåº“å‡½æ•°</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> Accelerate</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">sum</span><span class="params">(x: [Double])</span></span> -&gt; <span class="type">Double</span> &#123;</div><div class="line">    <span class="keyword">var</span> result: <span class="type">Double</span> = <span class="number">0.0</span></div><div class="line">    vDSP_sveD(x, <span class="number">1</span>, &amp;result, vDSP_Length(x.<span class="built_in">count</span>))</div><div class="line"></div><div class="line">    <span class="keyword">return</span> result</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(x: [Double])</span></span> -&gt; <span class="type">Double</span> &#123;</div><div class="line">    <span class="keyword">var</span> result: <span class="type">Double</span> = <span class="number">0.0</span></div><div class="line">    vDSP_maxvD(x, <span class="number">1</span>, &amp;result, vDSP_Length(x.<span class="built_in">count</span>))</div><div class="line"></div><div class="line">    <span class="keyword">return</span> result</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">mean</span><span class="params">(x: [Double])</span></span> -&gt; <span class="type">Double</span> &#123;</div><div class="line">    <span class="keyword">var</span> result: <span class="type">Double</span> = <span class="number">0.0</span></div><div class="line">    vDSP_meanvD(x, <span class="number">1</span>, &amp;result, vDSP_Length(x.<span class="built_in">count</span>))</div><div class="line"></div><div class="line">    <span class="keyword">return</span> result</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(x: [Double], y: [Double])</span></span> -&gt; [<span class="type">Double</span>] &#123;</div><div class="line">    <span class="keyword">var</span> results = [<span class="type">Double</span>](y)</div><div class="line">    cblas_daxpy(<span class="type">Int32</span>(x.<span class="built_in">count</span>), <span class="number">1.0</span>, x, <span class="number">1</span>, &amp;results, <span class="number">1</span>)</div><div class="line"></div><div class="line">    <span class="keyword">return</span> results</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">fft</span><span class="params">(input: [Double])</span></span> -&gt; [<span class="type">Double</span>] &#123;</div><div class="line">    <span class="keyword">var</span> real = [<span class="type">Double</span>](input)</div><div class="line">    <span class="keyword">var</span> imaginary = [<span class="type">Double</span>](<span class="built_in">count</span>: input.<span class="built_in">count</span>, repeatedValue: <span class="number">0.0</span>)</div><div class="line">    <span class="keyword">var</span> splitComplex = <span class="type">DSPDoubleSplitComplex</span>(realp: &amp;real, imagp: &amp;imaginary)</div><div class="line"></div><div class="line">    <span class="keyword">let</span> length = vDSP_Length(floor(log2(<span class="type">Float</span>(input.<span class="built_in">count</span>))))</div><div class="line">    <span class="keyword">let</span> radix = <span class="type">FFTRadix</span>(kFFTRadix2)</div><div class="line">    <span class="keyword">let</span> weights = vDSP_create_fftsetupD(length, radix)</div><div class="line">    vDSP_fft_zipD(weights, &amp;splitComplex, <span class="number">1</span>, length, <span class="type">FFTDirection</span>(<span class="type">FFT_FORWARD</span>))</div><div class="line"></div><div class="line">    <span class="keyword">var</span> magnitudes = [<span class="type">Double</span>](<span class="built_in">count</span>: input.<span class="built_in">count</span>, repeatedValue: <span class="number">0.0</span>)</div><div class="line">    vDSP_zvmagsD(&amp;splitComplex, <span class="number">1</span>, &amp;magnitudes, <span class="number">1</span>, vDSP_Length(input.<span class="built_in">count</span>))</div><div class="line"></div><div class="line">    <span class="keyword">var</span> normalizedMagnitudes = [<span class="type">Double</span>](<span class="built_in">count</span>: input.<span class="built_in">count</span>, repeatedValue: <span class="number">0.0</span>)</div><div class="line">    vDSP_vsmulD(sqrt(magnitudes), <span class="number">1</span>, [<span class="number">2.0</span> / <span class="type">Double</span>(input.<span class="built_in">count</span>)], &amp;normalizedMagnitudes, <span class="number">1</span>, vDSP_Length(input.<span class="built_in">count</span>))</div><div class="line"></div><div class="line">    vDSP_destroy_fftsetupD(weights)</div><div class="line"></div><div class="line">    <span class="keyword">return</span> normalizedMagnitudes</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Accelerate/">Accelerate</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/ç§»åŠ¨ç»„å‘¨æŠ€æœ¯åˆ†äº«/">ç§»åŠ¨ç»„å‘¨æŠ€æœ¯åˆ†äº«</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-2016-06-17" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/06/17/2016-06-17/" class="article-date">
  	<time datetime="2016-06-17T10:30:00.000Z" itemprop="datePublished">2016-06-17</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/17/2016-06-17/">Xcode MarkDownçš„ä»£ç æ–‡æ¡£ ( for swift )</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="markdownåœ¨swiftä¸­çš„åº”ç”¨"><a href="#markdownåœ¨swiftä¸­çš„åº”ç”¨" class="headerlink" title="markdownåœ¨swiftä¸­çš„åº”ç”¨"></a>markdownåœ¨swiftä¸­çš„åº”ç”¨</h3><h4 id="goals"><a href="#goals" class="headerlink" title="goals"></a>goals</h4><ul>
<li>æè¿°å„ä¸ªå±æ€§ã€å‡½æ•°å’Œç±»çš„çœŸæ­£ç”¨é€”</li>
<li>é«˜äº®å‡½æ•°çš„è¾“å…¥å’Œè¾“å‡ºï¼ˆå‚æ•°å’Œè¿”å›å€¼ï¼‰</li>
<li>å‡ ä¸ªæœˆåè¿˜èƒ½æ¸…æ™°åœ°è®°å¾—æ¯ä¸ªå‡½æ•°å±æ€§æ˜¯ä¸ºäº†ä»€ä¹ˆ</li>
<li>ä½¿ç”¨å·¥å…·åˆ¶ä½œå…·æœ‰ä¸“ä¸šå¤–è§‚çš„ä½¿ç”¨æ‰‹å†Œï¼ˆæ¯”å¦‚ï¼šä½¿ç”¨ <a href="https://github.com/realm/jazzy" target="_blank" rel="external">Jazzy</a>ï¼‰</li>
<li>Xcode é‡Œå†™çš„ä»£ç æ–‡æ¡£èƒ½è¢«é¢„è§ˆ</li>
</ul>
<h4 id="markdown-grammar"><a href="#markdown-grammar" class="headerlink" title="markdown grammar"></a>markdown grammar</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">#text#ï¼šæ–‡æœ¬æ ‡é¢˜</div><div class="line"></div><div class="line">**text**ï¼šä½¿æ–‡æœ¬å…·æœ‰åŠ ç²—çš„æ•ˆæœ</div><div class="line"></div><div class="line">*text*ï¼šä½¿æ–‡æœ¬å…·æœ‰æ–œä½“çš„æ•ˆæœ</div><div class="line"></div><div class="line">* textï¼šä½¿æ–‡æœ¬æˆä¸ºä¸€ä¸ªæ— åºåˆ—è¡¨çš„å…ƒç´ ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæœ‰ä¸ª * åé¢éœ€è¦æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚åŒæ ·ï¼Œå¯ä»¥ä½¿ç”¨ + æˆ– - å®ç°è¿™ä¸ªçš„åŠŸèƒ½</div><div class="line"></div><div class="line">1.textï¼šä½¿æ–‡æœ¬æˆä¸ºä¸€ä¸ªæœ‰åºåˆ—è¡¨çš„å…ƒç´ </div><div class="line"></div><div class="line">[linked text](http://some-url.com)ï¼šä½¿æ–‡æœ¬æˆä¸ºå¯ä»¥ç‚¹å‡»çš„è¶…é“¾æ¥</div><div class="line"></div><div class="line">![image show](http://www.appcoda.com/wp-content/uploads/2016/05/t52_3_help_inspector1.png)ï¼šå¯ä»¥æ˜¾ç¤ºå›¾ç‰‡</div><div class="line"></div><div class="line">&gt; textï¼šåˆ›å»ºä¸€ä¸ªå—å¼•ç”¨ã€‚</div><div class="line"></div><div class="line">ä½¿ç”¨ 4 ä¸ªç©ºæ ¼æˆ– 1 ä¸ª tab æ¥ç¼©è¿›æ‰€å†™çš„ä»£ç å—ï¼Œç­‰ä»·äº HTML ä¸­çš„ \\ æ ‡ç­¾ã€‚å¯ä»¥ç»§ç»­ä½¿ç”¨ 4 ä¸ªç©ºæ ¼æˆ– 1 ä¸ª tab æ¥æ·»åŠ å¦ä¸€ä¸ªç¼©è¿›</div><div class="line"></div><div class="line">å¦‚æœä¸æƒ³ä½¿ç”¨ç©ºæ ¼æˆ– tab çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ ` ã€‚æ¯”å¦‚ï¼Œ `var myProperty` ä¼šæ˜¾ç¤ºæˆ var myProperty</div><div class="line"></div><div class="line">å¦ä¸€ç§åˆ›å»ºä»£ç å—çš„æ–¹æ³•æ˜¯æ·»åŠ  4 ä¸ª `ï¼Œå¹¶ä»ä¸‹ä¸€è¡Œå¼€å§‹å†™å…·ä½“çš„ä»£ç ï¼Œæœ€åæ·»åŠ  4 ä¸ª ` è¡¨ç¤ºç»“æŸ</div><div class="line"></div><div class="line">åæ–œæ ä¿®é¥° Markdown çš„ç‰¹æ®Šå­—ç¬¦å°±å¯ä»¥é¿å… Markdown è¯­æ³•çš„è§£æäº†ã€‚æ¯”å¦‚ï¼Œ \**this\** å°±ä¸ä¼šäº§ç”ŸåŠ ç²—çš„æ•ˆæœ</div></pre></td></tr></table></figure>
<p>æ³¨é‡ŠåŒºåŸŸï¼š 3 ä¸ªæ–œçº¿ï¼ˆ///ï¼‰æˆ–ä»¥ä¸‹é¢çš„å½¢å¼å¼€å¤´ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"></div><div class="line">*/</div></pre></td></tr></table></figure>
<h5 id="Case"><a href="#Case" class="headerlink" title="Case"></a>Case</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line">    It calculates and returns the outcome of the division of the two parameters.</div><div class="line"></div><div class="line">    ## Important Notes ##</div><div class="line">    1. Both parameters are **double** numbers.</div><div class="line">    2. For a proper result the second parameter *must be other than 0*.</div><div class="line">    3. If the second parameter is 0 then the function will return nil.</div><div class="line"></div><div class="line">*/</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">performDivision</span>ï¼ˆ<span class="title">number1</span>: <span class="title">Double</span>, <span class="title">number2</span>: <span class="title">Double</span>ï¼‰ -&gt; <span class="title">Double</span>! </span>&#123;</div><div class="line">    <span class="keyword">if</span> number2 != <span class="number">0</span> &#123;</div><div class="line">        <span class="keyword">return</span> number1 / number2</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><img src="http://www.appcoda.com/wp-content/uploads/2016/05/t52_2_quickhelp2.png" alt="case image"></p>
<p><img src="http://www.appcoda.com/wp-content/uploads/2016/05/t52_3_help_inspector1.png" alt="quick look"></p>
<h4 id="å…³é”®è¯"><a href="#å…³é”®è¯" class="headerlink" title="å…³é”®è¯"></a>å…³é”®è¯</h4><ul>
<li>Parameter</li>
<li>Returns</li>
<li>Remark</li>
<li>SeeAlso</li>
<li>Precondiction</li>
<li>Requires</li>
<li>Todo</li>
<li>Version</li>
<li>Author</li>
<li>Note</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line">    Another complicated function.</div><div class="line"></div><div class="line">    - Parameter fullname: The fullname that will be broken into its parts.</div><div class="line">    - Returns: A *tuple* with the first and last name.</div><div class="line"></div><div class="line">    - Remark:</div><div class="line">        There's a counterpart function that concatenates the first and last name into a full name.</div><div class="line"></div><div class="line">    - SeeAlso:  `createFullNameï¼ˆ_:lastname:ï¼‰`</div><div class="line"></div><div class="line">    - Precondition: `fullname` should not be nil.</div><div class="line">    - Requires: Both first and last name should be parts of the full name, separated with a *space character*.</div><div class="line"></div><div class="line">    - Todo: Support middle name in the next version.</div><div class="line"></div><div class="line">    - Warning: A wonderful **crash** will be the result of a `nil` argument.</div><div class="line"></div><div class="line">    - Version: 1.1</div><div class="line"></div><div class="line">    - Author: Myself Only</div><div class="line"></div><div class="line">    - Note: Too much documentation for such a small function.</div><div class="line"> */</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">breakFullName</span>ï¼ˆ<span class="title">fullname</span>: <span class="title">String</span>) -&gt; ï¼ˆ<span class="title">firstname</span>: <span class="title">String</span>, <span class="title">lastname</span>: <span class="title">String</span>) </span>&#123;</div><div class="line">    <span class="keyword">let</span> fullnameInPieces = fullname.componentsSeparatedByStringï¼ˆ<span class="string">" "</span>ï¼‰</div><div class="line">    <span class="keyword">return</span> ï¼ˆfullnameInPieces[<span class="number">0</span>], fullnameInPieces[<span class="number">1</span>]ï¼‰</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><img src="http://www.appcoda.com/wp-content/uploads/2016/05/t52_10_keywords5.png" alt="å…¨å…³é”®å­—"></p>
<h3 id="Jazzy-è‡ªåŠ¨äº§ç”Ÿä»£ç æ–‡æ¡£"><a href="#Jazzy-è‡ªåŠ¨äº§ç”Ÿä»£ç æ–‡æ¡£" class="headerlink" title="Jazzy è‡ªåŠ¨äº§ç”Ÿä»£ç æ–‡æ¡£"></a>Jazzy è‡ªåŠ¨äº§ç”Ÿä»£ç æ–‡æ¡£</h3><blockquote>
<p><a href="https://github.com/realm/jazzy" target="_blank" rel="external">Jazzy</a> æ˜¯ä¸€æ¬¾å¯ä»¥ä¸º Swift å’Œ Objective-C ä»£ç äº§ç”Ÿå…·æœ‰ Apple é£æ ¼çš„ä»£ç æ–‡æ¡£å·¥å…·ã€‚</p>
<h4 id="æ•ˆæœå¦‚ä¸‹"><a href="#æ•ˆæœå¦‚ä¸‹" class="headerlink" title="æ•ˆæœå¦‚ä¸‹"></a>æ•ˆæœå¦‚ä¸‹</h4><p><img src="http://www.appcoda.com/wp-content/uploads/2016/05/t52_15_jazzy_results.png" alt="jazzy æ•ˆæœ"></p>
</blockquote>
<h5 id="ä¸‹é¢ä»¥Alamofireä¸ºä¾‹å­ï¼š"><a href="#ä¸‹é¢ä»¥Alamofireä¸ºä¾‹å­ï¼š" class="headerlink" title="ä¸‹é¢ä»¥Alamofireä¸ºä¾‹å­ï¼š"></a>ä¸‹é¢ä»¥<code>Alamofire</code>ä¸ºä¾‹å­ï¼š</h5><blockquote>
<p>jazzy â€“help æŸ¥çœ‹å¸®åŠ©</p>
<ul>
<li>cd Alamofire çš„é¡¹ç›®path</li>
<li>jazzy â€“output /Users/xcodeyang/Desktop/jazzy_document </li>
</ul>
</blockquote>
<p><strong><a href="http://swift.gg/2016/06/15/swift-markdown/" target="_blank" rel="external">å‚è€ƒåšå®¢åœ°å€</a></strong></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/document/">document</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/ç§»åŠ¨ç»„å‘¨æŠ€æœ¯åˆ†äº«/">ç§»åŠ¨ç»„å‘¨æŠ€æœ¯åˆ†äº«</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-2016-05-06" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/06/2016-05-06/" class="article-date">
  	<time datetime="2016-05-06T10:30:00.000Z" itemprop="datePublished">2016-05-06</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/06/2016-05-06/">æšä¸¾çš„ç‰¹æ®Šç”¨æ³•</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="æšä¸¾çš„ç‰¹æ®Šç”¨æ³•"><a href="#æšä¸¾çš„ç‰¹æ®Šç”¨æ³•" class="headerlink" title="æšä¸¾çš„ç‰¹æ®Šç”¨æ³•"></a>æšä¸¾çš„ç‰¹æ®Šç”¨æ³•</h2><blockquote>
<p>æºäºé¡¹ç›®ä¸­çš„åº”ç”¨å¤ªå¹¿äº†ï¼Œä½†æ˜¯å¯¹swiftçš„å¾ˆå¤šç®€å•ç‰¹æ€§ä¸ç†Ÿã€‚ä¹‹å‰é‚£ä¸ªåŠ¨ç”»çš„<code>é˜¶æ®µ</code>ä½¿ç”¨åˆ°enumæœ‰é‡åˆ°å›°éš¾æš‚æ—¶ç»•å¼€å®ƒäº†</p>
</blockquote>
<p><code>å½“æ—¶çš„ç›®æ ‡å°±æ˜¯å¤–éƒ¨ç›´æ¥èµ‹å€¼æ“ä½œ</code></p>
<h3 id="å¦‚ä¸‹åŠ¨ç”»çš„enumç¤ºä¾‹ï¼š"><a href="#å¦‚ä¸‹åŠ¨ç”»çš„enumç¤ºä¾‹ï¼š" class="headerlink" title="å¦‚ä¸‹åŠ¨ç”»çš„enumç¤ºä¾‹ï¼š"></a>å¦‚ä¸‹åŠ¨ç”»çš„enumç¤ºä¾‹ï¼š</h3><blockquote>
<p>ä¸ºäº†çœäº‹ï¼Œç›®å‰ç›´æ¥ä½¿ç”¨æ­»çš„æ–‡æ¡ˆæ”¾åœ¨è¿™é‡Œ</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">AnimationPeriod</span>: <span class="title">UInt</span> </span>&#123;</div><div class="line">    <span class="comment">// åŠ¨ç”»æ‰§è¡Œçš„äº”ä¸ªé˜¶æ®µ</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Start</span>,<span class="type">First</span>,<span class="type">Second</span>,<span class="type">Third</span>,<span class="type">End</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">description</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</div><div class="line">        <span class="keyword">case</span> .<span class="type">Start</span>, .<span class="type">First</span>:    <span class="keyword">return</span> <span class="string">"æ­£åœ¨æå–å­¦æ ¡æœ€æ–°\nå½•å–æ¡ä»¶"</span></div><div class="line">        <span class="keyword">case</span> .<span class="type">Second</span>:           <span class="keyword">return</span> <span class="string">"æ­£åœ¨ä¸å­¦æ ¡è¿›è¡ŒåŒ¹é…"</span></div><div class="line">        <span class="keyword">case</span> .<span class="type">Third</span>, .<span class="type">End</span>:      <span class="keyword">return</span> <span class="string">"æ­£åœ¨æ ¹æ®åŒ¹é…ç»“æœ\nç”Ÿæˆé€‰æ ¡æ–¹æ¡ˆ"</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">duration</span><span class="params">()</span></span> -&gt; <span class="type">NSTimeInterval</span> &#123;</div><div class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</div><div class="line">        <span class="keyword">case</span> .<span class="type">Start</span>:    <span class="keyword">return</span> <span class="number">0.8</span></div><div class="line">        <span class="keyword">case</span> .<span class="type">First</span>:    <span class="keyword">return</span> <span class="number">1</span></div><div class="line">        <span class="keyword">case</span> .<span class="type">Second</span>:   <span class="keyword">return</span> <span class="number">2</span></div><div class="line">        <span class="keyword">case</span> .<span class="type">Third</span>:    <span class="keyword">return</span> <span class="number">0.5</span></div><div class="line">        <span class="keyword">case</span> .<span class="type">End</span>:      <span class="keyword">return</span> <span class="number">0.25</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">AnimationPeriod</span> </span>&#123;</div><div class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">next</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</div><div class="line">        <span class="keyword">case</span> .<span class="type">Start</span>:    <span class="keyword">self</span> = .<span class="type">First</span></div><div class="line">        <span class="keyword">case</span> .<span class="type">First</span>:    <span class="keyword">self</span> = .<span class="type">Second</span></div><div class="line">        <span class="keyword">case</span> .<span class="type">Second</span>:   <span class="keyword">self</span> = .<span class="type">Third</span></div><div class="line">        <span class="keyword">case</span> .<span class="type">Third</span>:    <span class="keyword">self</span> = .<span class="type">End</span></div><div class="line">        <span class="keyword">default</span>:        <span class="keyword">self</span> = .<span class="type">End</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="ä¸‹é¢æˆ‘ä»¬çœ‹çœ‹ä¸€äº›æšä¸¾çš„ä½¿ç”¨"><a href="#ä¸‹é¢æˆ‘ä»¬çœ‹çœ‹ä¸€äº›æšä¸¾çš„ä½¿ç”¨" class="headerlink" title="ä¸‹é¢æˆ‘ä»¬çœ‹çœ‹ä¸€äº›æšä¸¾çš„ä½¿ç”¨"></a>ä¸‹é¢æˆ‘ä»¬çœ‹çœ‹ä¸€äº›æšä¸¾çš„ä½¿ç”¨</h3><p>æºå¸¦<code>å‚æ•°</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">FamilyType</span> </span>&#123;</div><div class="line">    </div><div class="line">    <span class="keyword">case</span> <span class="type">Father</span>(age: <span class="type">Int</span>)</div><div class="line">    <span class="keyword">case</span> <span class="type">Mother</span>(age: <span class="type">Int</span>)</div><div class="line">    <span class="keyword">case</span> <span class="type">Sister</span>(age: <span class="type">Int</span>)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">gift</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">        <span class="keyword">switch</span>(<span class="keyword">self</span>) &#123;</div><div class="line">        <span class="keyword">case</span> .<span class="type">Sister</span>(<span class="keyword">let</span> age):</div><div class="line">            <span class="keyword">if</span> age &gt; <span class="number">15</span> &#123;</div><div class="line">                <span class="keyword">return</span> <span class="string">"iphone"</span></div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">return</span> <span class="string">"toy"</span></div><div class="line">            &#125;</div><div class="line">        <span class="keyword">case</span> .<span class="type">Mother</span>(<span class="keyword">let</span> age) <span class="keyword">where</span> age &lt; <span class="number">40</span>:</div><div class="line">            <span class="keyword">return</span> <span class="string">"cloth"</span></div><div class="line">        <span class="keyword">default</span>:</div><div class="line">            <span class="keyword">return</span> <span class="string">"book"</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> someone = <span class="type">FamilyType</span>.<span class="type">Sister</span>(age: <span class="number">11</span>)</div><div class="line"><span class="keyword">let</span> somebody = <span class="type">FamilyType</span>.<span class="type">Mother</span>(age: <span class="number">40</span>)</div><div class="line"><span class="comment">// swiftçš„æšä¸¾æŠ€å·§</span></div><div class="line"><span class="keyword">let</span> someoneGift = someone.gift()     <span class="comment">// print toy</span></div><div class="line"><span class="keyword">let</span> somebodyGift = somebody.gift()	 <span class="comment">// book</span></div></pre></td></tr></table></figure>
<p>####é‚£æˆ‘ä»¬è¦å–å€¼çš„æœ‰</p>
<ul>
<li>æ–¹æ³•ä¸€</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">switch</span> someone &#123;</div><div class="line"><span class="keyword">case</span> .<span class="type">Father</span>(<span class="keyword">let</span> age):</div><div class="line">    age</div><div class="line"><span class="keyword">case</span> .<span class="type">Sister</span>(<span class="keyword">let</span> age):</div><div class="line">    age</div><div class="line"><span class="keyword">default</span>:()</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>æ–¹æ³•äºŒ</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> <span class="keyword">case</span> .<span class="type">Sister</span>(<span class="keyword">let</span> age) = someone &#123;</div><div class="line">    age</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="æšä¸¾çš„åµŒå¥—"><a href="#æšä¸¾çš„åµŒå¥—" class="headerlink" title="æšä¸¾çš„åµŒå¥—"></a>æšä¸¾çš„åµŒå¥—</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Colleague</span> </span>&#123;</div><div class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">Weight</span>: <span class="title">Int</span> </span>&#123;</div><div class="line">        <span class="keyword">case</span> <span class="type">Light</span></div><div class="line">        <span class="keyword">case</span> <span class="type">Mid</span></div><div class="line">        <span class="keyword">case</span> <span class="type">Heavy</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">case</span> iOS(weight: <span class="type">Weight</span>)</div><div class="line">    <span class="keyword">case</span> <span class="type">Android</span>(weight: <span class="type">Weight</span>)</div><div class="line">    <span class="keyword">case</span> <span class="type">HTML</span>(weight: <span class="type">Weight</span>)</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> woodenHelmet = <span class="type">Colleague</span>.iOS(weight: .<span class="type">Mid</span>)</div></pre></td></tr></table></figure>
<h3 id="æšä¸¾çš„æˆå‘˜å˜é‡"><a href="#æšä¸¾çš„æˆå‘˜å˜é‡" class="headerlink" title="æšä¸¾çš„æˆå‘˜å˜é‡"></a>æšä¸¾çš„æˆå‘˜å˜é‡</h3><p>ä¹‹å‰å°±ä¸€ç›´æƒ³è¦ä½¿ç”¨æšä¸¾åšåˆ°å¤–éƒ¨åŠ¨æ€å¯¹æšä¸¾èµ‹å€¼å‚¨å­˜æ“ä½œï¼Œ<br>é‚£æˆå‘˜å˜é‡ç”¨æ³•å¦‚ä¸‹</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// æ ¹æ®è‡ªèº«èµ‹å€¼</span></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Device</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> iPad, iPhone</div><div class="line">    <span class="keyword">var</span> year: <span class="type">Int</span> &#123;</div><div class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</div><div class="line">        <span class="keyword">case</span> iPhone: <span class="keyword">return</span> <span class="number">2007</span></div><div class="line">        <span class="keyword">case</span> iPad: <span class="keyword">return</span> <span class="number">2010</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// set get æ–¹æ³•å¯¹äºæšä¸¾çš„æˆå‘˜å˜é‡æ˜¯æ— æ•ˆçš„ï¼Œå…è®¸getè°ƒç”¨ä½†setä¸å¯æ‰§è¡Œ</span></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Book</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">Story</span>, <span class="type">News</span></div><div class="line">    <span class="keyword">var</span> year: <span class="type">Int</span> &#123;</div><div class="line">        <span class="keyword">set</span>&#123;</div><div class="line">            year = newValue</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">get</span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">self</span>.year</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> myIpad = <span class="type">Device</span>.iPad</div><div class="line">myIpad.year</div><div class="line"></div><div class="line"><span class="keyword">var</span> storyBook = <span class="type">Book</span>.<span class="type">Story</span></div><div class="line"><span class="comment">//storyBook.year = 2010	 // set æ–¹æ³•æ­¤å¤„æŠ¥é”™</span></div><div class="line"><span class="comment">//storyBook.year			 // get æ— æ•ˆ</span></div></pre></td></tr></table></figure>
<h3 id="åˆå§‹åŒ–ï¼Œæ„Ÿè§‰ç„¶å¹¶è½¯"><a href="#åˆå§‹åŒ–ï¼Œæ„Ÿè§‰ç„¶å¹¶è½¯" class="headerlink" title="åˆå§‹åŒ–ï¼Œæ„Ÿè§‰ç„¶å¹¶è½¯"></a>åˆå§‹åŒ–ï¼Œæ„Ÿè§‰ç„¶å¹¶è½¯</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">AppleDevice</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> iMac(price:<span class="type">Int</span>)</div><div class="line">    <span class="keyword">case</span> iPod(price:<span class="type">Int</span>)</div><div class="line">    <span class="keyword">case</span> iPhone(price:<span class="type">Int</span>)</div><div class="line">    <span class="keyword">init</span> (costMoney: <span class="type">Int</span>) &#123;</div><div class="line">        <span class="keyword">if</span> costMoney &gt; <span class="number">10000</span> &#123;</div><div class="line">            <span class="keyword">self</span> = .iMac(price: costMoney)</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> costMoney &gt; <span class="number">2500</span> &#123;</div><div class="line">            <span class="keyword">self</span> = .iPhone(price: costMoney)</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">self</span> = .iPod(price: costMoney)</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> myDevice = <span class="type">AppleDevice</span>(costMoney: <span class="number">6000</span>)</div></pre></td></tr></table></figure>
<h3 id="å…ƒç»„çš„ä½¿ç”¨"><a href="#å…ƒç»„çš„ä½¿ç”¨" class="headerlink" title="å…ƒç»„çš„ä½¿ç”¨"></a>å…ƒç»„çš„ä½¿ç”¨</h3><p>å¤šä¸ªå‚æ•°çš„ä»‹å…¥æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å…ƒç»„,æ­¤å¤„å¸¸è§„ä½¿ç”¨æŠ¥é”™æš‚æ—¶æ— æ³•è§£å†³ï¼Œ<br>ä½¿ç”¨funcå‡½æ•°èµ‹å€¼å€’æ˜¯æ²¡æœ‰å‡ºé”™ã€‚whyï¼Ÿï¼Ÿ</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">HumanHabit</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">Reading</span></div><div class="line">    <span class="keyword">case</span> <span class="type">PlayGame</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Traveling</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">typealias</span> <span class="type">HumanInfo</span> = (age: <span class="type">Int</span>, name: <span class="type">String</span>, habit: <span class="type">HumanHabit</span>)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">selectRAM</span><span class="params">(humanInfo: HumanInfo)</span></span> -&gt; <span class="type">HumanInfo</span> &#123;<span class="keyword">return</span> (age: <span class="number">32</span>, name: humanInfo.name, habit: humanInfo.habit)&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">selectCPU</span><span class="params">(humanInfo: HumanInfo)</span></span> -&gt; <span class="type">HumanInfo</span> &#123;<span class="keyword">return</span> (age: humanInfo.age, name: <span class="string">"3.2GHZ"</span>, habit: humanInfo.habit)&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">selectGPU</span><span class="params">(humanInfo: HumanInfo)</span></span> -&gt; <span class="type">HumanInfo</span> &#123;<span class="keyword">return</span> (age: humanInfo.age, name: <span class="string">"3.2GHZ"</span>, habit: .<span class="type">Reading</span>)&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Desktop</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">Cube</span>(<span class="type">HumanInfo</span>)</div><div class="line">    <span class="keyword">case</span> <span class="type">Tower</span>(<span class="type">HumanInfo</span>)</div><div class="line">    <span class="keyword">case</span> <span class="type">Rack</span>(<span class="type">HumanInfo</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> aTower = <span class="type">Desktop</span>.<span class="type">Tower</span>(selectGPU(selectCPU(selectRAM((<span class="number">0</span>, <span class="string">""</span>, .<span class="type">Traveling</span>) <span class="keyword">as</span> <span class="type">HumanInfo</span>))))</div></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/ç§»åŠ¨ç»„å‘¨æŠ€æœ¯åˆ†äº«/">ç§»åŠ¨ç»„å‘¨æŠ€æœ¯åˆ†äº«</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-2016-04-22" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/04/22/2016-04-22/" class="article-date">
  	<time datetime="2016-04-22T10:30:00.000Z" itemprop="datePublished">2016-04-22</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/22/2016-04-22/">Swift çš„ Playground å­¦ä¹ </a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Swift-çš„-Playground-å­¦ä¹ "><a href="#Swift-çš„-Playground-å­¦ä¹ " class="headerlink" title="Swift çš„ Playground å­¦ä¹ "></a>Swift çš„ Playground å­¦ä¹ </h2><blockquote>
<p>æˆ‘ä»¬ä¸€å¼€å§‹çŸ¥é“ <strong><em>Playground</em></strong>ï¼Œä¹ŸçŸ¥é“ç„¶åæŸ¥çœ‹ä¸€äº›å˜é‡åŠå˜é‡çš„å†å²è®°å½•ã€‚å¶å°”è¿˜çŸ¥é“å¯ä»¥åšè§†å›¾ç”šè‡³åŠ¨ç”»å±•ç¤ºä½†æ˜¯ï¼Œç°åœ¨ï¼Œä½ ç‰¹ä¹ˆçœ‹åˆ°çš„æ˜¯ <strong><em>MarkDown</em></strong> è¯­æ³•ï¼Œæœ‰æ²¡æœ‰ã€‚</p>
</blockquote>
<h3 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h3><ul>
<li><a href="http://nshipster.cn/xcplayground/" target="_blank" rel="external">XCPlaygroundä»‹ç»&amp;å®è·µ</a></li>
<li><a href="https://developer.apple.com/library/mac/documentation/Miscellaneous/Reference/XCPlaygroundModuleRef/XCPlayground.html" target="_blank" rel="external">XCPlaygroundè‹¹æœå®˜ç½‘æ–‡æ¡£</a></li>
</ul>
<h3 id="ä½¿ç”¨ä¼˜åŠ¿"><a href="#ä½¿ç”¨ä¼˜åŠ¿" class="headerlink" title="ä½¿ç”¨ä¼˜åŠ¿"></a>ä½¿ç”¨ä¼˜åŠ¿</h3><ul>
<li>å¿«é€Ÿå­¦ä¹ swift</li>
<li>å¿«é€Ÿæµ‹è¯•ä»£ç æ•ˆæœ</li>
<li>éªŒè¯API</li>
<li>å¯Œæ–‡æœ¬æ³¨é‡Š</li>
</ul>
<p><code>å¦‚ä¸‹æ‰€æœ‰æ¡ˆä¾‹ä½¿ç”¨Xcode7ä¸‹åŠ è½½playgroundæ–‡ä»¶ï¼Œå¯é¢„è§ˆæ•ˆæœ</code><br><a href="https://github.com/51offer/51offer.github.com/tree/blog/share_files/xcodeyang52.playground" target="_blank" rel="external">æ–‡ä»¶ä¸‹è½½é“¾æ¥</a></p>
<h3 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h3><blockquote>
<p>è‡³ä¸Šè€Œä¸‹æ‰§è¡Œï¼Œæ˜¾ç¤ºå˜é‡çš„å½“å‰å€¼åŠå†å²è®°å½•çš„å˜åŒ–ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> name = <span class="string">"æ¨å¿—"</span></div><div class="line">name += <span class="string">"å¹³"</span></div><div class="line"><span class="comment">// playgroundä¸‹é¢„è§ˆ</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> graph = <span class="number">0.0</span></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>...<span class="number">100</span> &#123;</div><div class="line">    graph = sin(<span class="type">Double</span>(i)/<span class="number">10.0</span>)</div><div class="line">    <span class="comment">// playgroundä¸‹é¢„è§ˆ</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="UIè§†å›¾"><a href="#UIè§†å›¾" class="headerlink" title="UIè§†å›¾"></a>UIè§†å›¾</h3><blockquote>
<p>ç®€å•æ˜¾ç¤ºUIçš„åŸºç¡€å…ƒç´ </p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> redView = <span class="type">UIView</span>(frame:<span class="type">CGRectMake</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">100</span>,<span class="number">100</span>))</div><div class="line">redView.backgroundColor = <span class="type">UIColor</span>.redColor()</div><div class="line">redView.layer.cornerRadius = <span class="number">20</span></div><div class="line">redView.layer.borderWidth = <span class="number">3</span></div><div class="line">redView.layer.borderColor = <span class="type">UIColor</span>.whiteColor().<span class="type">CGColor</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> circle = <span class="type">UIView</span>(frame:<span class="type">CGRectMake</span>(<span class="number">25</span>,<span class="number">25</span>,<span class="number">50</span>,<span class="number">50</span>))</div><div class="line">circle.backgroundColor = <span class="type">UIColor</span>.yellowColor()</div><div class="line">circle.layer.cornerRadius = <span class="number">80</span></div><div class="line">redView.addSubview(circle)</div><div class="line"><span class="comment">// playgroundä¸‹é¢„è§ˆ</span></div></pre></td></tr></table></figure>
<h3 id="é‡å¤´æˆ"><a href="#é‡å¤´æˆ" class="headerlink" title="é‡å¤´æˆ"></a>é‡å¤´æˆ</h3><h4 id="åŠ¨ç”»å±•ç¤º-amp-ç½‘ç»œè¯·æ±‚"><a href="#åŠ¨ç”»å±•ç¤º-amp-ç½‘ç»œè¯·æ±‚" class="headerlink" title="åŠ¨ç”»å±•ç¤º &amp; ç½‘ç»œè¯·æ±‚"></a>åŠ¨ç”»å±•ç¤º &amp; ç½‘ç»œè¯·æ±‚</h4><blockquote>
<p>è¿™é‡Œéœ€è¦å¯¹ XCPlayground æœ‰ä¸€ç‚¹äº†è§£ï¼Œå¥½åƒè¿˜å¯¹SpriteKitåšäº†æ”¯æŒ<a href="http://letvar.com/blog/2014/06/swift-and-playgrounds-learn-to-program-in-a-fun-way-2/" target="_blank" rel="external">æ–‡ç« è¿æ¥</a></p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// è¿™ä¸ªåº“éœ€è¦import</span></div><div class="line"><span class="keyword">import</span> XCPlayground</div><div class="line"></div><div class="line"><span class="keyword">let</span> containerView = <span class="type">UIView</span>(frame: <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">320</span>, height: <span class="number">480</span>))</div><div class="line">containerView.backgroundColor = <span class="type">UIColor</span>.yellowColor()</div><div class="line"><span class="type">XCPlaygroundPage</span>.currentPage.liveView = containerView</div><div class="line"></div><div class="line"><span class="keyword">let</span> view = <span class="type">UIView</span>(frame: <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">100</span>, height: <span class="number">100</span>))</div><div class="line">view.center = <span class="type">CGPoint</span>(x: containerView.center.x, y: containerView.center.y-<span class="number">100</span>)</div><div class="line">view.backgroundColor = <span class="type">UIColor</span>.redColor()</div><div class="line">containerView.addSubview(view)</div><div class="line"></div><div class="line"><span class="comment">// playgroundä¸‹é¢„è§ˆ</span></div><div class="line"><span class="type">UIView</span>.animateWithDuration(<span class="number">3</span>, delay: <span class="number">0</span>, usingSpringWithDamping: <span class="number">0.1</span>, initialSpringVelocity: <span class="number">6</span>, options: <span class="type">UIViewAnimationOptions</span>.<span class="type">CurveEaseInOut</span>, animations: &#123;</div><div class="line">        view.center.y += <span class="number">100</span></div><div class="line">    &#125;, completion:&#123; (animation: <span class="type">Bool</span>) <span class="keyword">in</span></div><div class="line">        view.center.y -= <span class="number">100</span></div><div class="line">    &#125;</div><div class="line">)</div><div class="line"></div><div class="line"><span class="comment">// å¼‚æ­¥æ“ä½œï¼šç½‘ç»œåœ¨å®¶å›¾ç‰‡</span></div><div class="line"><span class="comment">// æ—§æ¥å£ï¼šXCPSetExecutionShouldContinueIndefinitely(true)</span></div><div class="line"><span class="type">XCPlaygroundPage</span>.currentPage.needsIndefiniteExecution = <span class="literal">true</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> url = <span class="type">NSURL</span>(string: <span class="string">"https://avatars1.githubusercontent.com/u/5317671?v=3&amp;s=460"</span>)!</div><div class="line"><span class="keyword">let</span> task = <span class="type">NSURLSession</span>.sharedSession().dataTaskWithURL(url) &#123;</div><div class="line">    data, <span class="number">_</span>, <span class="number">_</span> <span class="keyword">in</span></div><div class="line">    <span class="keyword">let</span> image = <span class="type">UIImage</span>(data: data!)</div><div class="line">    <span class="comment">// playgroundä¸‹é¢„è§ˆ</span></div><div class="line">&#125;</div><div class="line">task.resume()</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// å¿«é€Ÿæ£€æŸ¥APIæ¥å£</span></div><div class="line"><span class="keyword">let</span> url2 = <span class="type">NSURL</span>(string: <span class="string">"http://www.test.51offer.com/mobile/abroad/query_school_by_name?name=%E4%B8%80"</span>)!</div><div class="line"><span class="keyword">let</span> task2 = <span class="type">NSURLSession</span>.sharedSession().dataTaskWithURL(url2) &#123;</div><div class="line">    data, <span class="number">_</span>, <span class="number">_</span> <span class="keyword">in</span></div><div class="line">    <span class="keyword">let</span> str = <span class="type">String</span>(<span class="type">NSString</span>(data: data!, encoding: <span class="type">NSUTF8StringEncoding</span>))</div><div class="line">    <span class="comment">// playgroundä¸‹é¢„è§ˆ</span></div><div class="line">&#125;</div><div class="line">task2.resume()</div></pre></td></tr></table></figure>
<h3 id="ç»“æ„ä»‹ç»"><a href="#ç»“æ„ä»‹ç»" class="headerlink" title="ç»“æ„ä»‹ç»"></a>ç»“æ„ä»‹ç»</h3><ul>
<li><p>sources</p>
<blockquote>
<p>æˆ‘ä»¬ç›´æ¥åœ¨ Playground ä¸Šé¢å†™ä»£ç ï¼Œç„¶åç¼–è¯‘å™¨ä¼šå®æ—¶ç¼–è¯‘æˆ‘ä»¬ä»£ç ï¼Œå¹¶å°†ç»“æœæ˜¾ç¤ºå‡ºæ¥ã€‚ä½†æ˜¯æ•ˆç‡å¾ˆä½ï¼Œsourceçš„ä½œç”¨å°±å¯ä»¥å‘æŒ¥å‡ºæ¥</p>
</blockquote>
</li>
<li><p>resources</p>
<blockquote>
<p>å¯ä»¥ä½œä¸ºsandboxä½¿ç”¨</p>
</blockquote>
</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ç›´æ¥ä½¿ç”¨PicButton è¿™ä¸ªclass.</span></div><div class="line"><span class="comment">// æ³¨æ„ç‚¹ï¼šPicButtonçš„ç±»åŠåˆå§‹åŒ–æ–¹æ³•å¿…é¡»æ˜¯publicçš„</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> btn = <span class="type">PicButton</span>(frame: <span class="type">CGRectMake</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">200</span>,<span class="number">100</span>))</div><div class="line"><span class="comment">// playgroundä¸‹é¢„è§ˆ</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// å¦‚ä¸Šè¿°ï¼šåœ¨resourcesä¸­æ”¾å…¥jpgå›¾ç‰‡ï¼ŒåŠ è½½æœ¬åœ°èµ„æº</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> path = <span class="type">NSBundle</span>.mainBundle().pathForResource(<span class="string">"swift-playground"</span>, ofType: <span class="string">"jpg"</span>) &#123;</div><div class="line">    <span class="keyword">let</span> image = <span class="type">UIImage</span>(contentsOfFile:path)</div><div class="line">    <span class="keyword">let</span> imageView = <span class="type">UIImageView</span>(image: image)</div><div class="line">        <span class="comment">// playgroundä¸‹é¢„è§ˆ</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Playground/">Playground</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/ç§»åŠ¨ç»„å‘¨æŠ€æœ¯åˆ†äº«/">ç§»åŠ¨ç»„å‘¨æŠ€æœ¯åˆ†äº«</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-2016-04-08" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/04/08/2016-04-08/" class="article-date">
  	<time datetime="2016-04-08T10:30:00.000Z" itemprop="datePublished">2016-04-08</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/08/2016-04-08/">å¿«é€Ÿé›†æˆTouchID</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="å¿«é€Ÿé›†æˆTouchID"><a href="#å¿«é€Ÿé›†æˆTouchID" class="headerlink" title="å¿«é€Ÿé›†æˆTouchID"></a>å¿«é€Ÿé›†æˆTouchID</h2><blockquote>
<p>iPhone 5sï¼ŒiOS 8ï¼ŒiOS7æ—¶æœªå¼€æ”¾</p>
<p>ä¾èµ– LocalAuthentication.framework</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// åˆ¤æ–­è®¾å¤‡æ”¯æŒçŠ¶æ€</span></div><div class="line">LAContext *context = [[LAContext alloc] init];</div><div class="line">[context canEvaluatePolicy:LAPolicyDeviceOwnerAuthenticationWithBiometrics error:<span class="literal">nil</span>];</div><div class="line"></div><div class="line"><span class="comment">// å¦‚æœå¯ä»¥</span></div><div class="line">[context evaluatePolicy:LAPolicyDeviceOwnerAuthenticationWithBiometrics localizedReason:<span class="string">@"reason"</span> reply:^(<span class="built_in">BOOL</span> success, <span class="built_in">NSError</span> *error) &#123;</div><div class="line">            <span class="keyword">if</span> (success) &#123;</div><div class="line">                <span class="comment">//éªŒè¯æˆåŠŸï¼Œä¸»çº¿ç¨‹å¤„ç†UI</span></div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span></div><div class="line">            &#123;</div><div class="line">	            <span class="comment">// é‡ç‚¹ï¼šé”™è¯¯å¤„ç†ï¼Œåˆ†ä¸ºå¤šç§é”™è¯¯</span></div><div class="line">	            <span class="comment">// æœ‰éªŒè¯å¤±è´¥ã€å–æ¶ˆã€æ‰‹åŠ¨è¾“å…¥å¯†ç ç­‰ç­‰ç›¸å¯¹åº”çš„é€»è¾‘å¤„ç†</span></div><div class="line">	            <span class="comment">// è¯¦è§demo</span></div><div class="line">	        &#125;</div><div class="line">        &#125;];</div></pre></td></tr></table></figure>
<p><strong>é”™è¯¯ç±»å‹</strong></p>
<ul>
<li>LAErrorAuthenticationFailed</li>
<li>LAErrorUserCancel</li>
<li>LAErrorUserFallback</li>
<li>LAErrorSystemCancel</li>
<li>LAErrorPasscodeNotSet  </li>
<li>LAErrorTouchIDNotAvailable</li>
<li>LAErrorTouchIDNotEnrolled </li>
<li>LAErrorTouchIDLockout   NS_ENUM_AVAILABLE(10_11, 9_0)</li>
<li>LAErrorAppCancel        NS_ENUM_AVAILABLE(10_11, 9_0) </li>
<li>LAErrorInvalidContext   NS_ENUM_AVAILABLE(10_11, 9_0)</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/TouchID/">TouchID</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/ç§»åŠ¨ç»„å‘¨æŠ€æœ¯åˆ†äº«/">ç§»åŠ¨ç»„å‘¨æŠ€æœ¯åˆ†äº«</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-2016-03-11" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/11/2016-03-11/" class="article-date">
  	<time datetime="2016-03-11T10:30:00.000Z" itemprop="datePublished">2016-03-11</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/11/2016-03-11/">é«˜é˜¶å‡½æ•°åŠå‚æ•°çš„çœç•¥</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="å¸¸è§å®šä¹‰å‡½æ•°"><a href="#å¸¸è§å®šä¹‰å‡½æ•°" class="headerlink" title="å¸¸è§å®šä¹‰å‡½æ•°"></a>å¸¸è§å®šä¹‰å‡½æ•°</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> normalFunc = &#123;</div><div class="line">    () -&gt; <span class="type">Int</span> <span class="keyword">in</span></div><div class="line">    <span class="keyword">return</span> <span class="number">10086</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> normalResult = normalFunc()</div><div class="line"><span class="comment">// normalResult = 10086</span></div></pre></td></tr></table></figure>
<p>###å‡½æ•°å‚æ•°çš„ã€çœç•¥ã€<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ä»¥æ•°ç»„æ’åºå‡½æ•°ä¸ºä¾‹ï¼š</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> numberArr = [<span class="number">1</span>,<span class="number">7</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">5</span>]</div><div class="line"></div><div class="line"><span class="keyword">let</span> res1 = numberArr.<span class="built_in">sort</span>()</div><div class="line"></div><div class="line"><span class="keyword">let</span> res2 = numberArr.<span class="built_in">sort</span> &#123;</div><div class="line">    (num1: <span class="type">Int</span>, num2: <span class="type">Int</span>) -&gt; <span class="type">Bool</span> <span class="keyword">in</span></div><div class="line">    <span class="keyword">return</span> num1&gt;num2</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> res3 = numberArr.<span class="built_in">sort</span> &#123;</div><div class="line">    (num1: <span class="type">Int</span>, num2: <span class="type">Int</span>) <span class="keyword">in</span></div><div class="line">    <span class="keyword">return</span> num1&gt;num2</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> res4 = numberArr.<span class="built_in">sort</span> &#123;</div><div class="line">    (num1, num2) <span class="keyword">in</span></div><div class="line">    <span class="keyword">return</span> num1&gt;num2</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> res5 = numberArr.<span class="built_in">sort</span> &#123;</div><div class="line">    <span class="keyword">return</span> $<span class="number">0</span> &gt; $<span class="number">1</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> res6 = numberArr.<span class="built_in">sort</span> &#123;</div><div class="line">    $<span class="number">0</span> &gt; $<span class="number">1</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> res7 = numberArr.<span class="built_in">sort</span>(&gt;)</div></pre></td></tr></table></figure></p>
<blockquote>
<p><strong>å˜åŒ–è¿‡ç¨‹</strong><br>{ (num1: Int, num2: Int) -&gt; Bool in return num1&gt;num2 }<br>{ (num1: Int, num2: Int) in return num1&gt;num2 }<br>{ (num1, num2) in return num1&gt;num2 }<br>{ return $0 &gt; $1 }<br>{ $0 &gt; $1 }</p>
</blockquote>
<h3 id="å‡½æ•°å¼ç¼–ç¨‹"><a href="#å‡½æ•°å¼ç¼–ç¨‹" class="headerlink" title="å‡½æ•°å¼ç¼–ç¨‹"></a>å‡½æ•°å¼ç¼–ç¨‹</h3><h4 id="æ¡ˆä¾‹ä¸€"><a href="#æ¡ˆä¾‹ä¸€" class="headerlink" title="æ¡ˆä¾‹ä¸€"></a>æ¡ˆä¾‹ä¸€</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">square</span><span class="params">(a:Float)</span></span> -&gt; <span class="type">Float</span> &#123;</div><div class="line">    <span class="keyword">return</span> a * a</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">cube</span><span class="params">(a:Float)</span></span> -&gt; <span class="type">Float</span> &#123;</div><div class="line">    <span class="keyword">return</span> a * a * a</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">averageSumOfSquares</span><span class="params">(a:Float,b:Float)</span></span> -&gt; <span class="type">Float</span> &#123;</div><div class="line">    <span class="keyword">return</span> (square(a) + square(b)) / <span class="number">2.0</span></div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">averageSumOfCubes</span><span class="params">(a:Float,b:Float)</span></span> -&gt; <span class="type">Float</span> &#123;</div><div class="line">    <span class="keyword">return</span> (cube(a) + cube(b)) / <span class="number">2.0</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// åƒSwiftçš„Curryingï¼ˆæŸ¯é‡ŒåŒ–ï¼‰ï¼Œå¯ä»¥çµæ´»è°ƒé…ä½¿ç”¨</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">averageOfFunction</span><span class="params">(a a:Float,b:Float,f:<span class="params">(Float -&gt; Float)</span></span></span>) -&gt; <span class="type">Float</span> &#123;</div><div class="line">    <span class="keyword">return</span> (f(a) + f(b)) / <span class="number">2</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> squareResult1 = averageOfFunction(a: <span class="number">2</span>, b: <span class="number">4</span>, f: square)</div><div class="line"></div><div class="line"><span class="keyword">let</span> squareResult2 = averageOfFunction(a: <span class="number">2</span>, b: <span class="number">4</span>, f: &#123;</div><div class="line">                                                        (a: <span class="type">Float</span>) -&gt; <span class="type">Float</span> <span class="keyword">in</span></div><div class="line">                                                            <span class="keyword">return</span> a * a</div><div class="line">                                                     &#125;)</div><div class="line"></div><div class="line"><span class="comment">//&#123;(x: Float) -&gt; Float in return x * x&#125;</span></div><div class="line"><span class="comment">//&#123;x in return x * x&#125;</span></div><div class="line"><span class="comment">//&#123;x in x * x&#125;</span></div><div class="line"><span class="comment">//&#123;$0 * $0&#125;</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> squareResult3 = averageOfFunction(a: <span class="number">2</span>, b: <span class="number">4</span>, f: &#123;$<span class="number">0</span> * $<span class="number">0</span>&#125;)</div></pre></td></tr></table></figure>
<h4 id="æ¡ˆä¾‹äºŒ"><a href="#æ¡ˆä¾‹äºŒ" class="headerlink" title="æ¡ˆä¾‹äºŒ"></a>æ¡ˆä¾‹äºŒ</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// æ­£ç»Ÿé«˜é˜¶å‡½æ•°æ ·å¼</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum1</span><span class="params">(value: Int)</span></span> -&gt; (<span class="type">Int</span> -&gt; <span class="type">Int</span>) &#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">adder</span><span class="params">(otherValue: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">        <span class="keyword">return</span> otherValue + value</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> adder</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// çœç•¥å</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">sum2</span><span class="params">(value: Int)</span></span> -&gt; (<span class="type">Int</span> -&gt; <span class="type">Int</span>) &#123;</div><div class="line">    <span class="keyword">return</span> &#123; $<span class="number">0</span> + value &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> result1 = sum1(<span class="number">2</span>)(<span class="number">3</span>)</div><div class="line"><span class="keyword">let</span> result2 = sum2(<span class="number">5</span>)(<span class="number">3</span>)</div><div class="line"></div><div class="line"><span class="comment">// æ”¹é€ å‡½æ•°å®Œæ¯•</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">funcMathMethod1</span><span class="params">(first: Int -&gt; Int, <span class="number">_</span><span class="comment">/*èµ·åˆ°å˜é‡åŒ¿åä½œç”¨*/</span> second: Int -&gt; Int)</span></span> -&gt; <span class="type">Int</span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">return</span> &#123; second(first($<span class="number">0</span>)) &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> f1 = funcMathMethod1(&#123;$<span class="number">0</span> + <span class="number">2</span>&#125;, &#123;$<span class="number">0</span> / <span class="number">3</span>&#125;)</div><div class="line">f1(<span class="number">7</span>)</div><div class="line"></div><div class="line"><span class="keyword">let</span> f2 = funcMathMethod1(&#123;$<span class="number">0</span> * $<span class="number">0</span>&#125;, &#123;$<span class="number">0</span> / <span class="number">4</span>&#125;)</div><div class="line">f2(<span class="number">10</span>)</div><div class="line"></div><div class="line"><span class="comment">// Tip: ä½¿ç”¨å‡½æ•°å¼ç¼–ç¨‹ï¼Œè¦æ˜¯ç”¨å¾—ä¸å¥½å®¹æ˜“é€ æˆå¯è¯»æ€§å¾ˆå·®ï¼Œé‚£ä¼˜åŒ–å¦‚ä¸‹</span></div><div class="line"><span class="keyword">typealias</span> <span class="type">MathFunc</span> = <span class="type">Int</span> -&gt; <span class="type">Int</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">funcMathMethod2</span><span class="params">(f: MathFunc, <span class="number">_</span> s: MathFunc)</span></span> -&gt; <span class="type">MathFunc</span> &#123;</div><div class="line">    <span class="keyword">return</span> &#123; s(f($<span class="number">0</span>)) &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> readability = funcMathMethod1(&#123;$<span class="number">0</span> + <span class="number">2</span>&#125;, &#123;$<span class="number">0</span> / <span class="number">3</span>&#125;)</div><div class="line">readability(<span class="number">7</span>)</div></pre></td></tr></table></figure>
<h4 id="swiftåŸç”Ÿå¸¸ç”¨çš„é«˜é˜¶å‡½æ•°"><a href="#swiftåŸç”Ÿå¸¸ç”¨çš„é«˜é˜¶å‡½æ•°" class="headerlink" title="swiftåŸç”Ÿå¸¸ç”¨çš„é«˜é˜¶å‡½æ•°"></a>swiftåŸç”Ÿå¸¸ç”¨çš„é«˜é˜¶å‡½æ•°</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// map</span></div><div class="line"><span class="keyword">var</span> numberArr = [<span class="number">1</span>,<span class="number">7</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">5</span>]</div><div class="line"></div><div class="line"><span class="keyword">let</span> mapArray = numberArr.<span class="built_in">map</span> &#123; (num: <span class="type">Int</span>) -&gt; <span class="type">String</span> <span class="keyword">in</span></div><div class="line">     <span class="keyword">return</span> <span class="string">"ç¬¬<span class="subst">\(num)</span>å"</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> mapArray2 = numberArr.<span class="built_in">map</span>(&#123;<span class="string">"ç¬¬<span class="subst">\($<span class="number">0</span>)</span>å"</span>&#125;)</div><div class="line">mapArray2</div><div class="line"></div><div class="line"><span class="comment">// å¯é€‰å‹éšæ„è§£åŒ… str å¯ä»¥ä¸º nil</span></div><div class="line"><span class="keyword">let</span> str: <span class="type">String</span>? = <span class="string">"1234567890"</span></div><div class="line"><span class="keyword">let</span> mapStr = str.<span class="built_in">map</span>(&#123;<span class="string">"ç¬¬<span class="subst">\($<span class="number">0</span>)</span>å"</span>&#125;)</div><div class="line">mapStr</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// filter</span></div><div class="line"><span class="keyword">let</span> filArr = numberArr.<span class="built_in">filter</span> &#123; (num: <span class="type">Int</span>) -&gt; <span class="type">Bool</span> <span class="keyword">in</span></div><div class="line">    <span class="keyword">return</span> num &gt; <span class="number">4</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> filArr2 = numberArr.<span class="built_in">filter</span>(&#123; $<span class="number">0</span> &gt; <span class="number">4</span> &#125;)</div><div class="line">filArr2</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// reduce</span></div><div class="line"><span class="keyword">let</span> sum = numberArr.<span class="built_in">reduce</span>(<span class="number">0</span>) &#123; (presum:<span class="type">Int</span>, num:<span class="type">Int</span>) -&gt; <span class="type">Int</span> <span class="keyword">in</span></div><div class="line">    <span class="keyword">return</span> presum + num</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> sum2 = numberArr.<span class="built_in">reduce</span>(<span class="number">10</span>, combine: &#123;$<span class="number">0</span> + $<span class="number">1</span>&#125;)</div><div class="line">sum2</div><div class="line"><span class="keyword">let</span> sumToStr = numberArr.<span class="built_in">reduce</span>(<span class="string">""</span>) &#123; (str: <span class="type">String</span>, num: <span class="type">Int</span>) -&gt; <span class="type">String</span> <span class="keyword">in</span></div><div class="line">    str + <span class="type">String</span>(num)</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// æ±‚ä¸€ä¸ªæ•°ç»„ä¸­å¶æ•°çš„å¹³æ–¹å’Œï¼ˆä¸€å£æ°”ä½¿ç”¨swiftæä¾›çš„ä¸‰ä¸ªé«˜é˜¶å‡½æ•°ï¼‰</span></div><div class="line"><span class="comment">//[1,2,3,4,5,6,7] -&gt; [2,4,6] -&gt; 4+16+36 = 56</span></div><div class="line"><span class="keyword">let</span> result = numberArr.<span class="built_in">filter</span>(&#123;$<span class="number">0</span>%<span class="number">2</span>==<span class="number">0</span>&#125;).<span class="built_in">map</span>(&#123;$<span class="number">0</span>*$<span class="number">0</span>&#125;).<span class="built_in">reduce</span>(<span class="number">0</span>, combine: &#123;$<span class="number">0</span>+$<span class="number">1</span>&#125;)</div><div class="line">result <span class="comment">// result = 56</span></div></pre></td></tr></table></figure>
<h3 id="é¢è¯•é¢˜1"><a href="#é¢è¯•é¢˜1" class="headerlink" title="é¢è¯•é¢˜1"></a>é¢è¯•é¢˜1</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// é¢è¯•é¢˜ï¼šç”¨æ•°ç»„çš„ reduce æ–¹æ³•å®ç° map çš„åŠŸèƒ½ã€‚</span></div><div class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>]</div><div class="line"><span class="comment">// mapç®€æ˜“å®ç°</span></div><div class="line"><span class="keyword">let</span> res = arr.<span class="built_in">map</span>(&#123;$<span class="number">0</span>*<span class="number">2</span>&#125;)</div><div class="line"></div><div class="line"><span class="comment">// Array.reduce(&lt;#T##initial: T##T#&gt;, combine: &lt;#T##(T, Int) throws -&gt; T#&gt;)</span></div><div class="line"><span class="comment">// è¾“å‡ºæ•°æ®ç±»å‹ä¸åˆå§‹åŒ–å ä½æ•°æ®ç±»å‹ï¼ˆinitialï¼‰ä¸€è‡´</span></div><div class="line"><span class="keyword">let</span> res2 = arr.<span class="built_in">reduce</span>([]) &#123;</div><div class="line">    (a: [<span class="type">Int</span>], element: <span class="type">Int</span>) -&gt; [<span class="type">Int</span>] <span class="keyword">in</span></div><div class="line">    <span class="keyword">var</span> t = <span class="type">Array</span>(a)</div><div class="line">    t.append(element * <span class="number">2</span>)</div><div class="line">    <span class="keyword">return</span> t</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="é¢è¯•é¢˜1-1"><a href="#é¢è¯•é¢˜1-1" class="headerlink" title="é¢è¯•é¢˜1"></a>é¢è¯•é¢˜1</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// é¢è¯•é¢˜ï¼šç”¨ reduce æ–¹æ³•ä¸€æ¬¡æ±‚å‡ºæ•°ç»„ä¸­å¥‡æ•°çš„å’Œã€ä»¥åŠå¶æ•°ä¹˜ç§¯</span></div><div class="line"><span class="comment">// ä½¿ç”¨å…ƒç»„ï¼Œæ³¨æ„å ä½æ•°æ®(0, 1)ï¼Œç¬¬ä¸€è”åˆæ•°æ®a :(Int, Int)ï¼Œå‡½æ•°è¾“å‡ºæ•°æ®(Int, Int) ä¸‰è€…ç±»å‹ä¸€è‡´</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> arr2 = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>]</div><div class="line"></div><div class="line"><span class="keyword">let</span> res3: (<span class="type">Int</span>, <span class="type">Int</span>) = arr2.<span class="built_in">reduce</span>((<span class="number">0</span>, <span class="number">1</span>)) &#123;</div><div class="line">    (a :(<span class="type">Int</span>, <span class="type">Int</span>), element: <span class="type">Int</span>) -&gt; (<span class="type">Int</span>, <span class="type">Int</span>) <span class="keyword">in</span></div><div class="line">    <span class="keyword">if</span> element % <span class="number">2</span> == <span class="number">0</span> &#123;</div><div class="line">        <span class="keyword">return</span> (a.<span class="number">0</span>, a.<span class="number">1</span> * element)</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">return</span> (a.<span class="number">0</span> + element, a.<span class="number">1</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/ç§»åŠ¨ç»„å‘¨æŠ€æœ¯åˆ†äº«/">ç§»åŠ¨ç»„å‘¨æŠ€æœ¯åˆ†äº«</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-2016-02-26" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/02/26/2016-02-26/" class="article-date">
  	<time datetime="2016-02-26T10:30:00.000Z" itemprop="datePublished">2016-02-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/02/26/2016-02-26/">swift çš„ guard &amp; defer</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="guard-ä½¿ç”¨"><a href="#guard-ä½¿ç”¨" class="headerlink" title="guard ä½¿ç”¨"></a>guard ä½¿ç”¨</h3><blockquote>
<p>å®ˆå«ï¼Œå’Œéšå¼è§£ææ­é…æœ‰å¥‡æ•ˆ</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// åŸå§‹æ–¹æ³• (å¼ºè§£åŒ…å¯èƒ½ä¼šå‡ºç°é—®é¢˜)</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tranIntToString1</span><span class="params">(x: Int?)</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">if</span> x == <span class="literal">nil</span> || x! &lt;= <span class="number">0</span> &#123;</div><div class="line">  	    <span class="comment">// ä¸ç¬¦åˆå€¼çš„è¦æ±‚æ—¶ï¼Œå†™ç‚¹ä»£ç </span></div><div class="line">        <span class="keyword">return</span> <span class="string">""</span></div><div class="line">    &#125;</div><div class="line">    <span class="comment">// ä½¿ç”¨x</span></div><div class="line">    <span class="keyword">return</span> x!.description</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// æ”¹è¿›</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tranIntToString2</span><span class="params">(x: Int?)</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">if</span> <span class="keyword">let</span> x = x <span class="keyword">where</span> x&gt;<span class="number">0</span> &#123;</div><div class="line">        <span class="keyword">return</span> x.description</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="string">""</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// ä¿é•–æ¨¡å¼</span></div><div class="line"><span class="comment">// å’Œä¸Šé¢å†™æ³•å¯¹æ¯”</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tranIntToString3</span><span class="params">(x: Int?)</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> x = x <span class="keyword">where</span> x &gt; <span class="number">0</span> <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">""</span></div><div class="line">    &#125;</div><div class="line">    <span class="comment">// å˜é‡ä¸ç¬¦åˆæ¡ä»¶åˆ¤æ–­æ—¶ï¼Œæ‰§è¡Œä¸‹é¢ä»£ç </span></div><div class="line">    <span class="keyword">return</span> x.description</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// éå¯é€‰å‹</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">tranIntToString4</span><span class="params">(x: Int)</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">guard</span> x &gt; <span class="number">0</span> <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">""</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> x.description</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// å¸¸å¸¸ç”¨äºæ¡ä»¶åˆ¤æ–­æ‹¦æˆª</span></div><div class="line"><span class="keyword">var</span> view = <span class="type">UIView</span>(frame: <span class="type">CGRectMake</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">80</span>,<span class="number">80</span>))</div><div class="line">view.backgroundColor = <span class="type">UIColor</span>.redColor()</div><div class="line"></div><div class="line"><span class="type">UIView</span>.animateWithDuration(<span class="number">0.3</span>) &#123; [<span class="keyword">weak</span> view]() -&gt; <span class="type">Void</span> <span class="keyword">in</span></div><div class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> view = view <span class="keyword">where</span> view.alpha&gt;<span class="number">0</span> <span class="keyword">else</span> &#123;<span class="keyword">return</span>&#125;</div><div class="line">    view.alpha = <span class="number">0</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="æ‡’åŠ è½½"><a href="#æ‡’åŠ è½½" class="headerlink" title="æ‡’åŠ è½½"></a>æ‡’åŠ è½½</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//1.åˆ†æ NSArray æ˜¯ä¸€ä¸ªé—­åŒ…çš„è¿”å›å€¼ï¼Œè€Œè¿™æ˜¯ä¸€ä¸ªæ²¡æœ‰å‚æ•°çš„é—­åŒ… </span></div><div class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> dataArray:<span class="type">NSArray</span> = &#123; [] &#125;() </div><div class="line"></div><div class="line"><span class="comment">//2.ä¹Ÿå¯ä»¥å†™æˆè¿™æ · </span></div><div class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> dataArray:<span class="type">NSArray</span> = &#123; <span class="keyword">return</span> <span class="type">NSArray</span>() &#125;()</div><div class="line"></div><div class="line"><span class="comment">//3.ä»plistæ–‡ä»¶åŠ è½½ </span></div><div class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> dataArray:<span class="type">Array</span>&lt;<span class="type">XWWine</span>&gt; = &#123;</div><div class="line">    <span class="keyword">let</span> winePath = <span class="type">NSBundle</span>.mainBundle().pathForResource(<span class="string">"wine.plist"</span>, ofType: <span class="literal">nil</span>)!</div><div class="line">    <span class="keyword">let</span> winesM = <span class="type">NSMutableArray</span>(contentsOfFile: winePath);</div><div class="line">    <span class="keyword">var</span> tmpArray:<span class="type">Array</span>&lt;<span class="type">XWWine</span>&gt;! = []</div><div class="line">    <span class="keyword">for</span> tmpWineDict <span class="keyword">in</span> winesM! &#123;</div><div class="line">        <span class="keyword">var</span> wine:<span class="type">XWWine</span> = <span class="type">XWWine</span>.wineWithDict(tmpWineDict <span class="keyword">as</span>! <span class="type">NSDictionary</span>)</div><div class="line">        tmpArray.append(wine)</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//lazyé—­åŒ…é‡Œå°±è¿è¡Œä¸€æ¬¡</span></div><div class="line">    <span class="keyword">return</span> tmpArray</div><div class="line">&#125;()</div></pre></td></tr></table></figure>
<blockquote>
<p>è°ƒç”¨çš„æ—¶å€™å†åœ¨å®¶åˆå§‹åŒ–æ–¹æ³•ï¼ˆæ‡’åŠ è½½ï¼‰</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">lazy</span> <span class="keyword">private</span> <span class="keyword">var</span> underlineView: <span class="type">UIView</span> = &#123;</div><div class="line">    <span class="keyword">let</span> view = <span class="type">UIView</span>(frame: .zero)</div><div class="line">    <span class="keyword">return</span> view</div><div class="line">&#125;()</div></pre></td></tr></table></figure>
<h3 id="defer-å…³é”®å­—"><a href="#defer-å…³é”®å­—" class="headerlink" title="defer å…³é”®å­—"></a>defer å…³é”®å­—</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line">    defer å…³é”®å­—</div><div class="line">*/</div><div class="line"><span class="keyword">postfix</span> <span class="function"><span class="keyword">func</span> ++<span class="params">(<span class="keyword">inout</span> x: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    <span class="keyword">defer</span> &#123;</div><div class="line">        x = x/<span class="number">2</span></div><div class="line">        <span class="keyword">defer</span> &#123;</div><div class="line">            x += <span class="number">100</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> x</div><div class="line">&#125;</div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//postfix func ++(inout x: Int) -&gt; Int &#123;</span></div><div class="line"><span class="comment">//    let current = x</span></div><div class="line"><span class="comment">//    x += 2</span></div><div class="line"><span class="comment">//    return current</span></div><div class="line"><span class="comment">//&#125;</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">var</span> num = <span class="number">100</span></div><div class="line"><span class="keyword">let</span> num2 = num++</div><div class="line">num		<span class="comment">//150</span></div><div class="line">num2	<span class="comment">//100</span></div><div class="line"></div><div class="line"><span class="keyword">prefix</span> <span class="function"><span class="keyword">func</span> ++<span class="params">(<span class="keyword">inout</span> x:Int)</span></span> -&gt; <span class="type">Int</span> &#123;</div><div class="line">    x += <span class="number">2</span></div><div class="line">    <span class="keyword">return</span> x</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> number = <span class="number">100</span></div><div class="line"><span class="keyword">let</span> number2 = ++number</div><div class="line">number 		<span class="comment">// 102</span></div><div class="line">number2		<span class="comment">// 102</span></div></pre></td></tr></table></figure>
<h4 id="åµŒå¥—æšä¸¾ä½¿ç”¨-ç®€ç›´å°±æ˜¯åŠ¨æ€Model"><a href="#åµŒå¥—æšä¸¾ä½¿ç”¨-ç®€ç›´å°±æ˜¯åŠ¨æ€Model" class="headerlink" title="åµŒå¥—æšä¸¾ä½¿ç”¨(ç®€ç›´å°±æ˜¯åŠ¨æ€Model)"></a>åµŒå¥—æšä¸¾ä½¿ç”¨(ç®€ç›´å°±æ˜¯åŠ¨æ€Model)</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">MenuScrollingMode</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">ScrollEnabled</span></div><div class="line">    <span class="keyword">case</span> <span class="type">ScrollEnabledAndBouces</span></div><div class="line">    <span class="keyword">case</span> <span class="type">PagingEnabled</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">MenuItemWidthMode</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">Flexible</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Fixed</span>(width: <span class="type">CGFloat</span>)</div><div class="line">&#125;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">MenuDisplayMode</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">Standard</span>(widthMode: <span class="type">MenuItemWidthMode</span>, centerItem: <span class="type">Bool</span>, scrollingMode: <span class="type">MenuScrollingMode</span>)</div><div class="line">    <span class="keyword">case</span> <span class="type">SegmentedControl</span></div><div class="line">    <span class="keyword">case</span> <span class="type">Infinite</span>(widthMode: <span class="type">MenuItemWidthMode</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// åˆå§‹åŒ–ï¼šç”¨æ¥æºå¸¦ä¿¡æ¯å¾ˆä¸é”™</span></div><div class="line"><span class="keyword">public</span> <span class="keyword">var</span> menuDisplayMode = <span class="type">MenuDisplayMode</span>.<span class="type">Standard</span>(widthMode: <span class="type">PagingMenuOptions</span>.<span class="type">MenuItemWidthMode</span>.<span class="type">Fixed</span>(width: <span class="number">44</span>), centerItem: <span class="literal">false</span>, scrollingMode: <span class="type">PagingMenuOptions</span>.<span class="type">MenuScrollingMode</span>.<span class="type">PagingEnabled</span>)</div><div class="line"></div><div class="line"><span class="comment">// å®ä¾‹</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">labelWidth</span><span class="params">(size size: CGSize, widthMode: PagingMenuOptions.MenuItemWidthMode)</span></span> -&gt; <span class="type">CGFloat</span> &#123;</div><div class="line"></div><div class="line">    <span class="keyword">switch</span> widthMode &#123;</div><div class="line">    <span class="keyword">case</span> .<span class="type">Flexible</span>: <span class="keyword">return</span> ceil(size.width)</div><div class="line">    <span class="keyword">case</span> <span class="keyword">let</span> .<span class="type">Fixed</span>(width): <span class="keyword">return</span> width</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/defer/">defer</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/guard/">guard</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/lazy/">lazy</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/ç§»åŠ¨ç»„å‘¨æŠ€æœ¯åˆ†äº«/">ç§»åŠ¨ç»„å‘¨æŠ€æœ¯åˆ†äº«</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-2015-12-25" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/12/25/2015-12-25/" class="article-date">
  	<time datetime="2015-12-25T10:30:00.000Z" itemprop="datePublished">2015-12-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/25/2015-12-25/">The Bash Shell å˜é‡(åˆçº§)</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="The-Bash-Shell-å˜é‡-åˆçº§"><a href="#The-Bash-Shell-å˜é‡-åˆçº§" class="headerlink" title="The Bash Shell å˜é‡(åˆçº§)"></a>The Bash Shell å˜é‡(åˆçº§)</h2><p>@(Share)[shell]</p>
<p>[TOC]</p>
<p>###å‰è¨€<br><code>æˆ‘æœ‰ä¸€ä¸ªæƒ³æ³•ï¼Œå¸Œæœ›é€šè¿‡å­¦ä¹ è„šæœ¬æ¥å®ç°blogçš„è‡ªåŠ¨åˆ›å»ºåŠå‘å¸ƒç­‰æ“ä½œï¼Œ</code><br><code>zmæ¨èshellï¼Œpjå»ºè®®js</code></p>
<h4 id="å¸¸è§bashç†Ÿæ‚‰çš„ç‰¹æ€§ï¼š"><a href="#å¸¸è§bashç†Ÿæ‚‰çš„ç‰¹æ€§ï¼š" class="headerlink" title="å¸¸è§bashç†Ÿæ‚‰çš„ç‰¹æ€§ï¼š"></a>å¸¸è§bashç†Ÿæ‚‰çš„ç‰¹æ€§ï¼š</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">#$ï¼š(å…³äºæœ¬ shell çš„ PID)</div><div class="line">#é’±å­—å·æœ¬èº«ä¹Ÿæ˜¯ä¸ªå˜é‡å–”ï¼è¿™ä¸ªå’šå’šä»£è¡¨çš„æ˜¯ã€ç›®å‰è¿™ä¸ª Shell çš„çº¿ç¨‹ä»£å·ã€ï¼Œäº¦å³æ˜¯æ‰€è°“çš„ PID (Process ID)ã€‚ æ›´å¤šçš„ç¨‹åºè§‚å¿µï¼Œæˆ‘ä»¬ä¼šåœ¨ç¬¬å››ç¯‡çš„æ—¶å€™æåŠã€‚æƒ³è¦çŸ¥é“æˆ‘ä»¬çš„ shell çš„ PID ï¼Œå°±å¯ä»¥ç”¨ï¼šã€ echo $$ ã€å³å¯ï¼å‡ºç°çš„æ•°å­—å°±æ˜¯ä½ çš„ PID å·ç ã€‚</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ echo $$</div><div class="line">10337</div><div class="line">#?ï¼š(å…³äºä¸Šä¸ªè¿è¡Œå‘½ä»¤çš„å›ä¼ å€¼)</div><div class="line">#é—®å·ä¹Ÿæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å˜é‡ï¼Ÿåœ¨ bash é‡Œé¢è¿™ä¸ªå˜é‡å¯é‡è¦çš„å¾ˆï¼ è¿™ä¸ªå˜é‡æ˜¯ï¼šã€ä¸Šä¸€ä¸ªè¿è¡Œçš„å‘½ä»¤æ‰€å›ä¼ çš„å€¼ã€ï¼Œ ä¸Šé¢è¿™å¥è¯çš„é‡ç‚¹æ˜¯ã€ä¸Šä¸€ä¸ªå‘½ä»¤ã€ä¸ã€å›ä¼ å€¼ã€ä¸¤ä¸ªåœ°æ–¹ã€‚å½“æˆ‘ä»¬è¿è¡ŒæŸäº›å‘½ä»¤æ—¶ï¼Œ è¿™äº›å‘½ä»¤éƒ½ä¼šå›ä¼ ä¸€ä¸ªè¿è¡Œåçš„ä»£ç ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœæˆåŠŸçš„è¿è¡Œè¯¥å‘½ä»¤ï¼Œ åˆ™ä¼šå›ä¼ ä¸€ä¸ª 0 å€¼ï¼Œå¦‚æœè¿è¡Œè¿‡ç¨‹å‘ç”Ÿé”™è¯¯ï¼Œå°±ä¼šå›ä¼ ã€é”™è¯¯ä»£ç ã€æ‰å¯¹ï¼ä¸€èˆ¬å°±æ˜¯ä»¥éä¸º 0 çš„æ•°å€¼æ¥å–ä»£ã€‚</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ echo$</div><div class="line">-bash: echo$: command not found</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ echo $?</div><div class="line">127	# &lt;== error</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ echo $?</div><div class="line">0	# &lt;== success</div></pre></td></tr></table></figure>
<ul>
<li>å‘½ä»¤ç¼–ä¿®èƒ½åŠ› (history)ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">XcodeYangdeMBP2:~ xcodeyang$ echo $HISTSIZE</div><div class="line">500</div></pre></td></tr></table></figure>
<ul>
<li>å‘½ä»¤ä¸æ–‡ä»¶è¡¥å…¨åŠŸèƒ½ï¼š <blockquote>
<p> [tab] æŒ‰é”®çš„å¥½å¤„</p>
<ul>
<li>ä¸€ä¸‹å’Œä¸¤ä¸‹çš„åŒºåˆ«</li>
<li>å‘½ä»¤ä¸æ–‡ä»¶è·¯å¾„</li>
</ul>
</blockquote>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">XcodeYangdeMBP2:~ xcodeyang$ x</div><div class="line">xar              xcodebuild       xgettext5.18.pl  xmllint          xslt-config</div><div class="line">xargs            xcodeproj        xip              xpath            xsltproc</div><div class="line">xattr            xcrun            xjc              xpath5.16        xsubpp</div><div class="line">xattr-2.6        xed              xml2-config      xpath5.18        xsubpp5.16</div><div class="line">xattr-2.7        xgettext.pl      xml2man          xsanctl          xsubpp5.18</div><div class="line">xcode-select     xgettext5.16.pl  xmlcatalog       xscertadmin      xxd</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ x</div></pre></td></tr></table></figure>
<ul>
<li>å‘½ä»¤åˆ«åé…ç½®åŠŸèƒ½ï¼š (alias)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">XcodeYangdeMBP2:~ xcodeyang$ alias xcodedaniel=&apos;ls&apos;</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ cd Documents/</div><div class="line">XcodeYangdeMBP2:Documents xcodeyang$ xcodedaniel</div><div class="line">GItHub		Welcome.itmz	bloodsugar	æŠ€æœ¯éƒ¨åˆ†äº«</div><div class="line">XcodeYangdeMBP2:Documents xcodeyang$ ls</div><div class="line">GItHub		Welcome.itmz	bloodsugar	æŠ€æœ¯éƒ¨åˆ†äº«</div><div class="line">XcodeYangdeMBP2:Documents xcodeyang$</div></pre></td></tr></table></figure>
<p>å¯å˜æ€§ä¸æ–¹ä¾¿æ€§</p>
<blockquote>
<p>ä¸¾ä¾‹ï¼šMAIL å˜é‡ä¸åŒç”¨æˆ·è®¾ç½®<br>yzp -&gt;  /var/spool/mail/yzp<br>cy   -&gt;  /var/spool/mail/cy<br>pj   -&gt;  /var/spool/mail/pj<br>zm  -&gt;  /var/spool/mail/zm</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">XcodeYangdeMBP2:~ xcodeyang$ echo $USER</div><div class="line">xcodeyang</div></pre></td></tr></table></figure>
<p>###å˜é‡çš„å–ç”¨ä¸é…ç½®ï¼šecho, å˜é‡é…ç½®å®ˆåˆ™, unset</p>
<p><code>å˜é‡çš„å–ç”¨å°±å¦‚åŒä¸Šé¢çš„èŒƒä¾‹ï¼Œåˆ©ç”¨ echo å°±èƒ½å¤Ÿè¯»å‡ºï¼Œåªæ˜¯éœ€è¦åœ¨å˜é‡åç§°å‰é¢åŠ ä¸Š $ ï¼Œ æˆ–è€…æ˜¯ä»¥ ${å˜é‡} çš„æ–¹å¼æ¥å–ç”¨éƒ½å¯ä»¥</code></p>
<p>####å˜é‡çš„é…ç½®å®ˆåˆ™</p>
<ul>
<li><p>å˜é‡ä¸å˜é‡å†…å®¹ä»¥ä¸€ä¸ªç­‰å·ã€=ã€æ¥è¿ç»“ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š </p>
<blockquote>
<p>ã€yname=zhipingyangã€</p>
</blockquote>
</li>
<li><p>ç­‰å·ä¸¤è¾¹ä¸èƒ½ç›´æ¥æ¥ç©ºæ ¼ç¬¦ï¼Œå¦‚ä¸‹æ‰€ç¤ºä¸ºé”™è¯¯ï¼š </p>
<blockquote>
<p>ã€myname = zhipingyangã€æˆ–ã€myname=zhiping yangã€</p>
</blockquote>
</li>
<li><p>å˜é‡åç§°åªèƒ½æ˜¯è‹±æ–‡å­—æ¯ä¸æ•°å­—ï¼Œä½†æ˜¯å¼€å¤´å­—ç¬¦ä¸èƒ½æ˜¯æ•°å­—ï¼Œå¦‚ä¸‹ä¸ºé”™è¯¯ï¼š </p>
<blockquote>
<p>ã€2myname=zhipingyangã€</p>
</blockquote>
</li>
<li><p>å˜é‡å†…å®¹è‹¥æœ‰ç©ºæ ¼ç¬¦å¯ä½¿ç”¨åŒå¼•å·ã€â€ã€æˆ–å•å¼•å·ã€â€™ã€å°†å˜é‡å†…å®¹ç»“åˆèµ·æ¥ï¼Œä½†<br>åŒå¼•å·å†…çš„ç‰¹æ®Šå­—ç¬¦å¦‚ $ ç­‰ï¼Œå¯ä»¥ä¿æœ‰åŸæœ¬çš„ç‰¹æ€§ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<blockquote>
<p>ã€var=â€lang is $LANGâ€ã€åˆ™ã€echo $varã€å¯å¾—ã€lang is en_USã€</p>
</blockquote>
</li>
<li><p>å•å¼•å·å†…çš„ç‰¹æ®Šå­—ç¬¦åˆ™ä»…ä¸ºä¸€èˆ¬å­—ç¬¦ (çº¯æ–‡æœ¬)ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<blockquote>
<p>ã€var=â€™lang is $LANGâ€™ã€åˆ™ã€echo $varã€å¯å¾—ã€lang is $LANGã€</p>
</blockquote>
</li>
<li><p>å¯ç”¨è·³è„±å­—ç¬¦ã€ \ ã€å°†ç‰¹æ®Šç¬¦å·(å¦‚ [Enter], $, \, ç©ºæ ¼ç¬¦, â€˜ç­‰)å˜æˆä¸€èˆ¬å­—ç¬¦ï¼›</p>
<blockquote>
<p>XcodeYangdeMBP2:~ xcodeyang$ myname=hello\ world</p>
</blockquote>
</li>
<li><p>åœ¨ä¸€ä¸²å‘½ä»¤ä¸­ï¼Œè¿˜éœ€è¦è—‰ç”±å…¶ä»–çš„å‘½ä»¤æä¾›çš„ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨åå•å¼•å·ã€<code>å‘½ä»¤</code>ã€æˆ– ã€$(å‘½ä»¤)ã€ã€‚ç‰¹åˆ«æ³¨æ„ï¼Œé‚£ä¸ª ` æ˜¯é”®ç›˜ä¸Šæ–¹çš„æ•°å­—é”® 1 å·¦è¾¹é‚£ä¸ªæŒ‰é”®ï¼Œè€Œä¸æ˜¯å•å¼•å·ï¼ ä¾‹å¦‚æƒ³è¦å–å¾—æ ¸å¿ƒç‰ˆæœ¬çš„é…ç½®ï¼š</p>
<blockquote>
<p>ã€version=$(uname -r)ã€å†ã€echo $versionã€å¯å¾—ã€2.6.18-128.el5ã€</p>
</blockquote>
</li>
<li><p>è‹¥è¯¥å˜é‡ä¸ºæ‰©å¢å˜é‡å†…å®¹æ—¶ï¼Œåˆ™å¯ç”¨ â€œ$å˜é‡åç§°â€ æˆ– ${å˜é‡} ç´¯åŠ å†…å®¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<blockquote>
<p>ã€PATH=â€$PATHâ€:/home/binã€</p>
</blockquote>
</li>
<li><p>è‹¥è¯¥å˜é‡éœ€è¦åœ¨å…¶ä»–å­ç¨‹åºè¿è¡Œï¼Œåˆ™éœ€è¦ä»¥ export æ¥ä½¿å˜é‡å˜æˆç¯å¢ƒå˜é‡ï¼š</p>
<blockquote>
<p>ã€export PATHã€</p>
</blockquote>
</li>
<li><p>å–æ¶ˆå˜é‡çš„æ–¹æ³•ä¸ºä½¿ç”¨ unset ï¼šã€unset å˜é‡åç§°ã€ä¾‹å¦‚å–æ¶ˆ myname çš„é…ç½®ï¼š</p>
<blockquote>
<p>ã€unset mynameã€</p>
</blockquote>
</li>
</ul>
<p>è®¾ç½®mynameå˜é‡</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"># ä¾‹å­ä¸€</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ echo $myname</div><div class="line">#				&lt;==è¿™é‡Œå¹¶æ²¡æœ‰ä»»ä½•æ•°æ®ï½å› ä¸ºè¿™ä¸ªå˜é‡å°šæœªè¢«é…ç½®ï¼æ˜¯ç©ºçš„ï¼</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ myname = Daniel</div><div class="line">-bash: myname: command not found</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ myname=Daniel</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ echo $myname</div><div class="line">Daniel</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ bash</div><div class="line">bash-3.2$ echo $myname</div><div class="line">#				&lt;==è¿™é‡Œå¹¶æ²¡æœ‰ä»»ä½•æ•°æ®ï½å› ä¸ºè¿™ä¸ªå˜é‡æ˜¯è‡ªå®šä¹‰å˜é‡ï¼ˆå±€éƒ¨å˜é‡ï¼‰</div><div class="line">bash-3.2$ exit</div><div class="line">exit</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ export myname	#ä¿®æ”¹æˆç¯å¢ƒå˜é‡(å…¨å±€å˜é‡)</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ bash</div><div class="line">bash-3.2$ echo $myname</div><div class="line">Daniel</div><div class="line">bash-3.2$ unset myname</div><div class="line">bash-3.2$ echo $myname</div><div class="line">bash-3.2$ exit</div><div class="line">exit</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ echo $myname</div><div class="line">Daniel</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ </div><div class="line"># ä¾‹å­äºŒ</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ echo $HOME</div><div class="line">/Users/xcodeyang</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ HOME=$HOME/home/bin</div><div class="line">XcodeYangdeMBP2:xcodeyang xcodeyang$ echo $HOME</div><div class="line">/Users/xcodeyang/home/bin</div><div class="line"># myname=$mynameyes  </div><div class="line"># å¦‚æœæ²¡æœ‰åŒå¼•å·ï¼Œname çš„å†…å®¹æ˜¯ $nameyes è¿™ä¸ªå˜é‡ï¼</div><div class="line"># tipï¼šé…é”™ä½¿ç”¨control+cå–æ¶ˆç»§ç»­ï¼Œä¸‹é¢æ˜¯æ­£ç¡®çš„</div><div class="line"># myname=&quot;$myname&quot;yes</div><div class="line"># myname=$&#123;myname&#125;yes	&lt;==ä»¥æ­¤ä¾‹è¾ƒä½³ï¼</div><div class="line"># çŒœæµ‹ä¸€ä¸‹ï¼Œé‚£ä¸ªæ˜¯å¯¹/é”™</div><div class="line">myname=&quot;myname&apos;s name&quot; </div><div class="line">myname=&apos;myname&apos;s name&apos; </div><div class="line">myname=myname\&apos;s\ name</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">XcodeYangdeMBP2:~ xcodeyang$ echo $name</div><div class="line">yzp</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ name=&quot;$name is daniel&quot;</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ echo $name</div><div class="line">yzp is daniel</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ name=&apos;$name is daniel&apos;</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ echo $name</div><div class="line">$name is daniel</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$</div></pre></td></tr></table></figure>
<h3 id="ç¯å¢ƒå˜é‡çš„åŠŸèƒ½ï¼š-env-ä¸å¸¸è§ç¯å¢ƒå˜é‡è¯´æ˜-set-export"><a href="#ç¯å¢ƒå˜é‡çš„åŠŸèƒ½ï¼š-env-ä¸å¸¸è§ç¯å¢ƒå˜é‡è¯´æ˜-set-export" class="headerlink" title="ç¯å¢ƒå˜é‡çš„åŠŸèƒ½ï¼š env ä¸å¸¸è§ç¯å¢ƒå˜é‡è¯´æ˜, set, export"></a>ç¯å¢ƒå˜é‡çš„åŠŸèƒ½ï¼š env ä¸å¸¸è§ç¯å¢ƒå˜é‡è¯´æ˜, set, export</h3><p><code>bash å¯ä¸åªæœ‰ç¯å¢ƒå˜é‡å–”ï¼Œè¿˜æœ‰ä¸€äº›ä¸ bash æ“ä½œæ¥å£æœ‰å…³çš„å˜é‡ï¼Œä»¥åŠç”¨æˆ·è‡ªå·±å®šä¹‰çš„å˜é‡å­˜åœ¨çš„. set é™¤äº†ç¯å¢ƒå˜é‡ä¹‹å¤–ï¼Œ è¿˜ä¼šå°†å…¶ä»–åœ¨ bash å†…çš„å˜é‡é€šé€šæ˜¾ç¤ºå‡ºæ¥å“©ï¼ä¿¡æ¯å¤ªå¤š</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">XcodeYangdeMBP2:~ xcodeyang$ newname=daniel</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ name=xcodeyang</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ export name</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ env #&lt;==çœ‹è¿™é‡Œ</div><div class="line">TERM_PROGRAM=Apple_Terminal #ä½¿ç”¨&#123;å¤§å†™çš„å­—æ¯&#125;æ¥é…ç½®çš„å˜é‡ä¸€èˆ¬ä¸ºç³»ç»Ÿå†…å®šéœ€è¦çš„å˜é‡</div><div class="line">SHELL=/bin/bash</div><div class="line">TERM=xterm-256color</div><div class="line">TMPDIR=/var/folders/1c/hw10tv792_92fz5cswgmzqmc0000gn/T/</div><div class="line">Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.Zcy3n3bgYL/Render</div><div class="line">TERM_PROGRAM_VERSION=361.1</div><div class="line">TERM_SESSION_ID=A7EE49FA-7C48-49A4-BA91-8144FACFB146</div><div class="line">name=xcodeyang	#&lt;==çœ‹è¿™é‡Œ</div><div class="line">USER=xcodeyang</div><div class="line">SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.Sey2Soe8fS/Listeners</div><div class="line">__CF_USER_TEXT_ENCODING=0x1F5:0x0:0x0</div><div class="line">PATH=/Users/xcodeyang/.rbenv/shims:/Users/xcodeyang/.rbenv/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/git/bin</div><div class="line">PWD=/Users/xcodeyang</div><div class="line">XPC_FLAGS=0x0</div><div class="line">RBENV_SHELL=bash</div><div class="line">XPC_SERVICE_NAME=0</div><div class="line">SHLVL=1</div><div class="line">HOME=/Users/xcodeyang</div><div class="line">LOGNAME=xcodeyang</div><div class="line">LC_CTYPE=UTF-8</div><div class="line">_=/usr/bin/env</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$</div></pre></td></tr></table></figure>
<p>###å˜é‡çš„æœ‰æ•ˆèŒƒå›´<br>ç¯å¢ƒå˜é‡=å…¨å±€å˜é‡<br>è‡ªå®šä¹‰å˜é‡=å±€éƒ¨å˜é‡    </p>
<blockquote>
<p>ä¸ºä»€ä¹ˆç¯å¢ƒå˜é‡çš„æ•°æ®å¯ä»¥è¢«å­ç¨‹åºæ‰€å¼•ç”¨å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºå†…å­˜é…ç½®çš„å…³ç³»ï¼ç†è®ºä¸Šæ˜¯è¿™æ ·çš„ï¼š</p>
<ul>
<li>å½“å¯åŠ¨ä¸€ä¸ª shellï¼Œæ“ä½œç³»ç»Ÿä¼šåˆ†é…ä¸€è®°å¿†åŒºå—ç»™ shell ä½¿ç”¨ï¼Œæ­¤å†…å­˜å†…ä¹‹å˜é‡å¯è®©å­ç¨‹åºå–ç”¨</li>
<li>è‹¥åœ¨çˆ¶ç¨‹åºåˆ©ç”¨ export åŠŸèƒ½ï¼Œå¯ä»¥è®©è‡ªå®šä¹‰å˜é‡çš„å†…å®¹å†™åˆ°ä¸Šè¿°çš„è®°å¿†åŒºå—å½“ä¸­(ç¯å¢ƒå˜é‡)ï¼›</li>
<li>å½“åŠ è½½å¦ä¸€ä¸ª shell æ—¶ (äº¦å³å¯åŠ¨å­ç¨‹åºï¼Œè€Œç¦»å¼€åŸæœ¬çš„çˆ¶ç¨‹åºäº†)ï¼Œå­ shell å¯ä»¥å°†çˆ¶ shell çš„ç¯å¢ƒå˜é‡æ‰€åœ¨çš„è®°å¿†åŒºå—å¯¼å…¥è‡ªå·±çš„ç¯å¢ƒå˜é‡åŒºå—å½“ä¸­ã€‚</li>
</ul>
</blockquote>
<p>###å˜é‡é”®ç›˜è¯»å–ã€æ•°ç»„ä¸å®£å‘Šï¼š read, declare, array</p>
<blockquote>
<p>æˆ‘ä»¬ä¸Šé¢æåˆ°çš„å˜é‡é…ç½®åŠŸèƒ½ï¼Œéƒ½æ˜¯ç”±å‘½ä»¤åˆ—ç›´æ¥é…ç½®çš„ï¼Œé‚£ä¹ˆï¼Œå¯ä¸å¯ä»¥è®©ç”¨æˆ·èƒ½å¤Ÿç»ç”±é”®ç›˜è¾“å…¥ï¼Ÿ ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæ˜¯å¦è®°å¾—æŸäº›ç¨‹åºè¿è¡Œçš„è¿‡ç¨‹å½“ä¸­ï¼Œä¼šç­‰å¾…ä½¿ç”¨è€…è¾“å…¥ â€œyes/noâ€ ä¹‹ç±»çš„ä¿¡æ¯å•Šï¼Ÿ</p>
<p>####read</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">XcodeYangdeMBP2:~ xcodeyang$ echo $name</div><div class="line">zhipingyang</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ read name</div><div class="line">%^$$uhda asuh_uha!@#~	#å…³é”®æ˜¯æ²¡æœ‰ä¹‹å‰é‚£æ ·çš„è¯­æ³•æ ¼å¼é™åˆ¶</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ echo $name</div><div class="line">%^$$uhda asuh_uha!@#~</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ </div><div class="line">#-p  ï¼šåé¢å¯ä»¥æ¥æç¤ºå­—ç¬¦ï¼</div><div class="line">#-t  ï¼šåé¢å¯ä»¥æ¥ç­‰å¾…çš„ã€ç§’æ•°ï¼ã€è¿™ä¸ªæ¯”è¾ƒæœ‰è¶£ï½ä¸ä¼šä¸€ç›´ç­‰å¾…ä½¿ç”¨è€…å•¦ï¼</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ read -p &quot;Please keyin your age: &quot; -t 30 agenum</div><div class="line">Please keyin your age: 33</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ echo $agenum</div><div class="line">33</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$</div></pre></td></tr></table></figure>
<h4 id="declare-typeset"><a href="#declare-typeset" class="headerlink" title="declare / typeset"></a>declare / typeset</h4><blockquote>
<p>declare æˆ– typeset æ˜¯ä¸€æ ·çš„åŠŸèƒ½ï¼Œå°±æ˜¯åœ¨ã€å®£å‘Šå˜é‡çš„ç±»å‹ã€</p>
<p>-a  ï¼šå°†åé¢åä¸º variable çš„å˜é‡å®šä¹‰æˆä¸ºæ•°ç»„ (array) ç±»å‹<br>-i  ï¼šå°†åé¢åä¸º variable çš„å˜é‡å®šä¹‰æˆä¸ºæ•´æ•°æ•°å­— (integer) ç±»å‹<br>-x  ï¼šç”¨æ³•ä¸ export ä¸€æ ·ï¼Œå°±æ˜¯å°†åé¢çš„ variable å˜æˆç¯å¢ƒå˜é‡ï¼›<br>-r  ï¼šå°†å˜é‡é…ç½®æˆä¸º readonly ç±»å‹ï¼Œè¯¥å˜é‡ä¸å¯è¢«æ›´æ”¹å†…å®¹ï¼Œä¹Ÿä¸èƒ½ unset</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">#ç¤ºä¾‹1ï¼š</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ sum=10+20+30</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ echo $sum</div><div class="line">10+20+30		#&lt;==é»˜è®¤ç±»å‹æ˜¯string</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ declare -i sum=10+20+30</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ echo $sum</div><div class="line">60</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ declare -i sum=1/3</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ echo $sum</div><div class="line">0	# &lt;==bash ç¯å¢ƒä¸­çš„æ•°å€¼è¿ç®—ï¼Œé»˜è®¤æœ€å¤šä»…èƒ½åˆ°è¾¾æ•´æ•°å½¢æ€</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$</div><div class="line">#ç¤ºä¾‹2</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ declare -ixr sum=20+30 #åªè¯»æ•´å‹ç¯å¢ƒå˜é‡</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ bash</div><div class="line">bash-3.2$ echo $sum</div><div class="line">50	#å­ç¨‹åºé‡Œä¾ç„¶å¯ä»¥è®¿é—®</div><div class="line">bash-3.2$ exit</div><div class="line">exit</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ sum=30</div><div class="line">-bash: sum: readonly variable	#ä¸å¯ä¿®æ”¹</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ </div><div class="line">#ç¤ºä¾‹3: å»ºè®®ç›´æ¥ä»¥ $&#123;æ•°ç»„&#125; çš„æ–¹å¼æ¥è¯»å–</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ var[1]=$SHELL</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ var[2]=$sum</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ var[3]=&quot;helloworld&quot;</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$ echo &quot;$&#123;var[1]&#125;, $&#123;var[2]&#125;, $&#123;var[3]&#125;&quot;</div><div class="line">/bin/bash, 50, helloworld</div><div class="line">XcodeYangdeMBP2:~ xcodeyang$</div></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javaScript/">javaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/phython/">phython</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/shell/">shell</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/ç§»åŠ¨ç»„å‘¨æŠ€æœ¯åˆ†äº«/">ç§»åŠ¨ç»„å‘¨æŠ€æœ¯åˆ†äº«</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2018 ShirleyYoung
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>