<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Shirley Young</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="前端新手，请多指教">
<meta property="og:type" content="website">
<meta property="og:title" content="Shirley Young">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="Shirley Young">
<meta property="og:description" content="前端新手，请多指教">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Shirley Young">
<meta name="twitter:description" content="前端新手，请多指教">
  
    <link rel="alternative" href="/atom.xml" title="Shirley Young" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="https://avatars1.githubusercontent.com/u/29747867" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">ShirleyYoung</a></h1>
		</hgroup>

		
		<p class="header-subtitle">前端博客</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/codingShirley" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/p/1006062608078012/home" title="weibo">weibo</a>
					        
								<a class="mail" target="_blank" href="/codingshirley@gmail.com" title="mail">mail</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Accelerate/" style="font-size: 10px;">Accelerate</a> <a href="/tags/Fight/" style="font-size: 10px;">Fight</a> <a href="/tags/Injury/" style="font-size: 10px;">Injury</a> <a href="/tags/Playground/" style="font-size: 10px;">Playground</a> <a href="/tags/Shocking/" style="font-size: 10px;">Shocking</a> <a href="/tags/TouchID/" style="font-size: 10px;">TouchID</a> <a href="/tags/Universal-Links/" style="font-size: 10px;">Universal Links</a> <a href="/tags/blog-tools-ci/" style="font-size: 10px;">blog, tools, ci</a> <a href="/tags/defer/" style="font-size: 10px;">defer</a> <a href="/tags/document/" style="font-size: 10px;">document</a> <a href="/tags/guard/" style="font-size: 10px;">guard</a> <a href="/tags/hitTest/" style="font-size: 10px;">hitTest</a> <a href="/tags/javaScript/" style="font-size: 10px;">javaScript</a> <a href="/tags/lazy/" style="font-size: 10px;">lazy</a> <a href="/tags/nextResponder/" style="font-size: 10px;">nextResponder</a> <a href="/tags/phython/" style="font-size: 10px;">phython</a> <a href="/tags/responder-chain/" style="font-size: 10px;">responder chain</a> <a href="/tags/shell/" style="font-size: 10px;">shell</a> <a href="/tags/博客/" style="font-size: 10px;">博客</a> <a href="/tags/同步异步/" style="font-size: 10px;">同步异步</a> <a href="/tags/开发效率/" style="font-size: 10px;">开发效率</a> <a href="/tags/效率/" style="font-size: 10px;">效率</a> <a href="/tags/游戏/" style="font-size: 10px;">游戏</a> <a href="/tags/物理引擎/" style="font-size: 10px;">物理引擎</a> <a href="/tags/研发杂谈/" style="font-size: 10px;">研发杂谈</a> <a href="/tags/线程/" style="font-size: 10px;">线程</a> <a href="/tags/网站/" style="font-size: 10px;">网站</a> <a href="/tags/通用链接/" style="font-size: 10px;">通用链接</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://zhipingyang.github.io/">xcodeyang&#39;s blog&#39;</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">If you want to go fast, go alone. If you want to go far, go with others.</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">ShirleyYoung</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="https://avatars1.githubusercontent.com/u/29747867" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">ShirleyYoung</h1>
			</hgroup>
			
			<p class="header-subtitle">前端博客</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/codingShirley" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/p/1006062608078012/home" title="weibo">weibo</a>
			        
						<a class="mail" target="_blank" href="/codingshirley@gmail.com" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-2015-12-11" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/12/11/2015-12-11/" class="article-date">
  	<time datetime="2015-12-11T10:30:00.000Z" itemprop="datePublished">2015-12-11</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/11/2015-12-11/">MarkDown的CSS实现配置</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>灵感</strong></p>
<blockquote>
<p>起源于我们现有的博客引擎主题交互很不错，但是排版烂的要死 ，我水平有限这里只是浅显介绍实现修改我们的markdown编译器的一些排版样式</p>
</blockquote>
<h4 id="研究方向"><a href="#研究方向" class="headerlink" title="研究方向"></a>研究方向</h4><blockquote>
<p>自定义一个非标准化，有其他多元素的MarkDown解析器 如下几点:</p>
</blockquote>
<ul>
<li>可选框<br><code>- [ ]</code></li>
<li>本地图片索引，可控制对齐及大小<br><code>![Alt text](http://path/to/img.jpg &quot;optional title&quot; 100x200)</code><br><code>![Alt text](./1449756974449.png)</code></li>
<li>标签功能<br><code>@(Share)[css, Markdown]</code></li>
<li>代码高亮（不同语言）</li>
</ul>
<p><code>swift</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> <span class="keyword">var</span> majorModel = <span class="type">PickMajorModel</span>()</div><div class="line"><span class="keyword">private</span> <span class="keyword">var</span> subjectModel = <span class="type">OFFKeyNameModel</span>()</div><div class="line"><span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</div><div class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(coder: aDecoder)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>objectivec</code></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">UIScrollView</span> *scrollView = [[<span class="built_in">UIScrollView</span> alloc] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, kScreenW, kScreenH)];</div><div class="line">scrollView.showsVerticalScrollIndicator = <span class="literal">NO</span>;</div><div class="line">[scrollView addSubview:<span class="keyword">self</span>.downMainView];</div></pre></td></tr></table></figure>
<p><strong>有一种惨不忍睹的即视感</strong><br><img src="./1449756974449.png" alt="Alt text"></p>
<h3 id="MarkDown来源及实现"><a href="#MarkDown来源及实现" class="headerlink" title="MarkDown来源及实现"></a>MarkDown来源及实现</h3><blockquote>
<p>Markdown is a plain text format for writing structured documents, based on conventions used for indicating formatting in email and usenet posts. It was developed in 2004 by John Gruber, who wrote the first markdown-to-html converter in Perl, and it soon became widely used in websites. By 2014 there were dozens of implementations in many languages.</p>
</blockquote>
<p><code>见知乎上回答</code><br><a href="http://www.zhihu.com/question/28756456" target="_blank" rel="external">实现一个markdown解析器需要具备那些知识</a></p>
<p>###如何简单的改善文字编排的效果</p>
<h5 id="更换博客主题（简单粗暴）"><a href="#更换博客主题（简单粗暴）" class="headerlink" title="更换博客主题（简单粗暴）"></a>更换博客主题（简单粗暴）</h5><blockquote>
<p>我们使用的博客引擎Hexo来举例，列举下面三个主题</p>
<ul>
<li>landscape</li>
<li>hexo-theme-vno-master</li>
<li>hexo-theme-yilia-master</li>
</ul>
</blockquote>
<h5 id="更换MarkDown编译器的主题"><a href="#更换MarkDown编译器的主题" class="headerlink" title="更换MarkDown编译器的主题"></a>更换MarkDown编译器的主题</h5><blockquote>
<p>以 <strong><em>Mou</em></strong> 举例子，它提供了多套markdown语法下的排版样式<br>手动新创建一个CSS文本布局配置 <strong><em>Blog</em></strong><br><img src="./1449768288128.png" alt="Alt text"></p>
</blockquote>
<h4 id="CSS配置文件修改"><a href="#CSS配置文件修改" class="headerlink" title="CSS配置文件修改"></a>CSS配置文件修改</h4><p>详细配置参数如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">html &#123; font-size: 62.5%; &#125;</div><div class="line">html, body &#123; height: 100%; &#125;</div><div class="line"></div><div class="line">body &#123;</div><div class="line">  font-family: Helvetica, Arial, sans-serif;</div><div class="line">  font-size: 150%;</div><div class="line">  line-height: 1.3;</div><div class="line">  color: #f6e6cc;</div><div class="line">  width: 700px;</div><div class="line">  margin: auto;</div><div class="line">  background: #27221a;</div><div class="line">  position: relative;</div><div class="line">  padding: 0 30px;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>多级标题配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">h1 &#123;</div><div class="line">  font-size: 28px;</div><div class="line">  color: black; &#125;</div><div class="line"></div><div class="line">h2 &#123;</div><div class="line">  font-size: 24px;</div><div class="line">  border-bottom: 1px solid #cccccc;</div><div class="line">  color: black; &#125;</div><div class="line"></div><div class="line">h3 &#123;</div><div class="line">  font-size: 18px; &#125;</div><div class="line"></div><div class="line">h4 &#123;</div><div class="line">  font-size: 16px; &#125;</div><div class="line"></div><div class="line">h5 &#123;</div><div class="line">  font-size: 14px; &#125;</div><div class="line"></div><div class="line">h6 &#123;</div><div class="line">  color: #777777;</div><div class="line">  font-size: 14px; &#125;</div></pre></td></tr></table></figure>
<p>表格</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">table &#123;</div><div class="line">  padding: 0;border-collapse: collapse; &#125;</div><div class="line">  table tr &#123;</div><div class="line">    border-top: 1px solid #cccccc;</div><div class="line">    background-color: white;</div><div class="line">    margin: 0;</div><div class="line">    padding: 0; &#125;</div><div class="line">    table tr:nth-child(2n) &#123;</div><div class="line">      background-color: #f8f8f8; &#125;</div><div class="line">    table tr th &#123;</div><div class="line">      font-weight: bold;</div><div class="line">      border: 1px solid #cccccc;</div><div class="line">      margin: 0;</div><div class="line">      padding: 6px 13px; &#125;</div><div class="line">    table tr td &#123;</div><div class="line">      border: 1px solid #cccccc;</div><div class="line">      margin: 0;</div><div class="line">      padding: 6px 13px; &#125;</div><div class="line">    table tr th :first-child, table tr td :first-child &#123;</div><div class="line">      margin-top: 0; &#125;</div><div class="line">    table tr th :last-child, table tr td :last-child &#123;</div><div class="line">      margin-bottom: 0; &#125;</div></pre></td></tr></table></figure>
<p>代码高亮</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">code, tt &#123;</div><div class="line">  margin: 0 2px;</div><div class="line">  padding: 0 5px;</div><div class="line">  white-space: nowrap;</div><div class="line">  border: 1px solid #eaeaea;</div><div class="line">  background-color: #f8f8f8;</div><div class="line">  border-radius: 3px; &#125;</div><div class="line"></div><div class="line">pre code &#123;</div><div class="line">  margin: 0;</div><div class="line">  padding: 0;</div><div class="line">  white-space: pre;</div><div class="line">  border: none;</div><div class="line">  background: transparent; &#125;</div></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Fight/">Fight</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Injury/">Injury</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Shocking/">Shocking</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Mobile/">Mobile</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-2015-11-25" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/25/2015-11-25/" class="article-date">
  	<time datetime="2015-11-25T10:30:00.000Z" itemprop="datePublished">2015-11-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/25/2015-11-25/">IM中输入框的优化方案实现</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="IM中输入框的优化方案实现"><a href="#IM中输入框的优化方案实现" class="headerlink" title="IM中输入框的优化方案实现"></a>IM中输入框的优化方案实现</h2><p><code>以下图的输入框为例</code></p>
<p><img src="https://cloud.githubusercontent.com/assets/9360037/11319390/0ad964a8-90b0-11e5-90aa-9d2ca1fa548e.png" alt="stand"></p>
<h4 id="输入框的呈现方式选择"><a href="#输入框的呈现方式选择" class="headerlink" title="输入框的呈现方式选择"></a>输入框的呈现方式选择</h4><p><code>以下两个方法对比</code></p>
<ul>
<li>Keyboard的inputAccessoryView</li>
</ul>
<blockquote>
<p>相对推荐的方法，有更好的丰富的交互效果</p>
<p>可以与scrollView的一些属性直接绑定</p>
</blockquote>
<ul>
<li>InputView的frame适应</li>
</ul>
<blockquote>
<p>传统的方法</p>
<p>优点：灵活控制显示位置</p>
<p>缺点：过多的计算frame</p>
</blockquote>
<p>###InputAccessoryView方式</p>
<p><a href="https://github.com/ZhipingYang/UUKeyboardInputView" target="_blank" rel="external">案例见GitHub的Demo</a></p>
<blockquote>
<p>iOS的输入源都有输入源（keyboard及keyboard的配件InputAccessoryView），那通常的方法是输入源控件（Textfield、TextView等）使用一般的<code>InputView的frame适应</code></p>
</blockquote>
<p><strong>解释几个技巧点</strong></p>
<ul>
<li>InputView（ 输入源 ）的父视图作为该InputView的InputAccessoryView，要避免相互引用</li>
<li>巧用第三方不可见的InputView在适当时间点转移第一响应者给可见的InputView</li>
<li>完成编辑时去除第一响应者（注意iOS9下键盘响应逻辑视图层级都发生了变化）</li>
</ul>
<p><strong>主要代码</strong></p>
<p><img src="https://cloud.githubusercontent.com/assets/9360037/11436829/4b2d95f2-9523-11e5-8d66-8745354c0e99.png" alt="simulator screen shot nov 27 2015 4 17 38 pm"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">// 单例初始化</div><div class="line">+ (UUInputAccessoryView*)sharedView &#123;</div><div class="line">    static dispatch_once_t once;</div><div class="line">    static UUInputAccessoryView *sharedView;</div><div class="line">    dispatch_once(&amp;once, ^ &#123;</div><div class="line">        sharedView = [[UUInputAccessoryView alloc] init];</div><div class="line">        sharedView-&gt;btnBack = [UIButton buttonWithType:UIButtonTypeCustom];</div><div class="line">        sharedView-&gt;btnBack.frame = CGRectMake(0, 0, UUIAV_MAIN_W, UUIAV_MAIN_H);</div><div class="line">        [sharedView-&gt;btnBack addTarget:sharedView action:@selector(dismiss) forControlEvents:UIControlEventTouchUpInside];</div><div class="line">        sharedView-&gt;btnBack.backgroundColor=[UIColor clearColor];</div><div class="line">        UIToolbar *toolbar = [[UIToolbar alloc]initWithFrame:CGRectMake(0, 0, UUIAV_MAIN_W, 44)];</div><div class="line">        sharedView-&gt;inputView = [[UITextField alloc]initWithFrame:CGRectMake(UUIAV_Edge_Hori, UUIAV_Edge_Vert, UUIAV_MAIN_W-UUIAV_Btn_W-4*UUIAV_Edge_Hori, UUIAV_Btn_H)];</div><div class="line">        sharedView-&gt;inputView.borderStyle = UITextBorderStyleRoundedRect;</div><div class="line">        sharedView-&gt;inputView.returnKeyType = UIReturnKeyDone;</div><div class="line">        sharedView-&gt;inputView.clearButtonMode = UITextFieldViewModeWhileEditing;</div><div class="line">        sharedView-&gt;inputView.enablesReturnKeyAutomatically = YES;</div><div class="line">        sharedView-&gt;inputView.delegate = sharedView;</div><div class="line">        [toolbar addSubview:sharedView-&gt;inputView];</div><div class="line">        sharedView-&gt;assistView = [[UITextField alloc]init];</div><div class="line">        sharedView-&gt;assistView.delegate = sharedView;</div><div class="line">        sharedView-&gt;assistView.returnKeyType = UIReturnKeyDone;</div><div class="line">        sharedView-&gt;assistView.enablesReturnKeyAutomatically = YES;</div><div class="line">        [sharedView-&gt;btnBack addSubview:sharedView-&gt;assistView];</div><div class="line">        sharedView-&gt;assistView.inputAccessoryView = toolbar;</div><div class="line">        sharedView-&gt;BtnSave = [UIButton buttonWithType:UIButtonTypeCustom];</div><div class="line">        sharedView-&gt;BtnSave.frame = CGRectMake(UUIAV_MAIN_W-UUIAV_Btn_W-2*UUIAV_Edge_Hori, UUIAV_Edge_Vert, UUIAV_Btn_W, UUIAV_Btn_H);</div><div class="line">        sharedView-&gt;BtnSave.backgroundColor = [UIColor clearColor];</div><div class="line">        [sharedView-&gt;BtnSave setTitle:@&quot;确定&quot; forState:UIControlStateNormal];</div><div class="line">        [sharedView-&gt;BtnSave setTitleColor:[UIColor redColor] forState:UIControlStateNormal];</div><div class="line">        [sharedView-&gt;BtnSave addTarget:sharedView action:@selector(Done) forControlEvents:UIControlEventTouchUpInside];</div><div class="line">        [toolbar addSubview:sharedView-&gt;BtnSave];</div><div class="line">    &#125;);</div><div class="line">	CGRectGetHeight([UIScreen mainScreen].bounds);</div><div class="line">	return sharedView;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>实现逻辑代码</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line">+ (void)showKeyboardType:(UIKeyboardType)type content:(NSString *)content Block:(UUInputAccessoryBlock)block</div><div class="line">&#123;</div><div class="line">    [[UUInputAccessoryView sharedView] show:block</div><div class="line">                               keyboardType:type</div><div class="line">                                    content:content];</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)show:(UUInputAccessoryBlock)block keyboardType:(UIKeyboardType)type content:(NSString *)content</div><div class="line">&#123;</div><div class="line">    UIWindow *window=[UIApplication sharedApplication].keyWindow;</div><div class="line">    [window addSubview:btnBack];</div><div class="line"></div><div class="line">    inputBlock = block;</div><div class="line">    inputView.text = content;</div><div class="line">    inputView.keyboardType = type;</div><div class="line">    assistView.keyboardType = type;</div><div class="line">    [assistView becomeFirstResponder];</div><div class="line">    shouldDismiss = NO;</div><div class="line">    </div><div class="line">    [[NSNotificationCenter defaultCenter] addObserverForName:UIKeyboardDidShowNotification</div><div class="line">                                                      object:nil</div><div class="line">                                                       queue:nil</div><div class="line">                                                  usingBlock:^(NSNotification * _Nonnull note) &#123;</div><div class="line">                                                      if (!shouldDismiss) &#123;</div><div class="line">                                                          [inputView becomeFirstResponder];</div><div class="line">                                                      &#125;</div><div class="line">                                                  &#125;];</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)Done</div><div class="line">&#123;</div><div class="line">    [inputView resignFirstResponder];</div><div class="line">    !inputBlock ?: inputBlock(inputView.text);</div><div class="line">    [self dismiss];</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (BOOL)textFieldShouldReturn:(UITextField *)textField</div><div class="line">&#123;</div><div class="line">    [self Done];</div><div class="line">    return NO;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)dismiss</div><div class="line">&#123;</div><div class="line">    shouldDismiss = YES;</div><div class="line">    [inputView resignFirstResponder];</div><div class="line">    [btnBack removeFromSuperview];</div><div class="line">    [[NSNotificationCenter defaultCenter] removeObserver:self];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="InputView的frame适应"><a href="#InputView的frame适应" class="headerlink" title="InputView的frame适应"></a>InputView的frame适应</h3><p><a href="https://github.com/ZhipingYang/UUChatSwift/blob/master/UUChatTableViewSwift/ChatTableViewController.swift#L123" target="_blank" rel="external">案例见GitHub的Demo</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">// 键盘响应布局</div><div class="line">@objc func keyboardFrameChanged(notification: NSNotification) &#123;</div><div class="line">    </div><div class="line">    let dict = NSDictionary(dictionary: notification.userInfo!)</div><div class="line">    let keyboardValue = dict.objectForKey(UIKeyboardFrameEndUserInfoKey) as! NSValue</div><div class="line">    let bottomDistance = mainScreenSize().height - keyboardValue.CGRectValue().origin.y</div><div class="line">    let duration = Double(dict.objectForKey(UIKeyboardAnimationDurationUserInfoKey) as! NSNumber)</div><div class="line">    </div><div class="line">    UIView.animateWithDuration(duration, animations: &#123;</div><div class="line">        self.inputViewConstraint!.constant = -bottomDistance</div><div class="line">        self.view.layoutIfNeeded()</div><div class="line">        &#125;, completion: &#123;</div><div class="line">            (value: Bool) in</div><div class="line">            self.chatTableView.scrollToBottom(animation: true)</div><div class="line">    &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="ScrollView下拉动态修改keyboard（InputView）的frame"><a href="#ScrollView下拉动态修改keyboard（InputView）的frame" class="headerlink" title="ScrollView下拉动态修改keyboard（InputView）的frame"></a>ScrollView下拉动态修改keyboard（InputView）的frame</h3><p><strong>常见隐藏keyboard的一些方式</strong></p>
<ul>
<li>TouchBeigin</li>
<li>DidDrag</li>
<li>EndDrag</li>
<li>Interactive</li>
</ul>
<p><strong>iOS7 开始，ScrollView提供</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">@available(iOS 7.0, *)</div><div class="line">public enum UIScrollViewKeyboardDismissMode : Int &#123;</div><div class="line">    case None</div><div class="line">    case OnDrag // dismisses the keyboard when a drag begins</div><div class="line">    case Interactive // the keyboard follows the dragging touch off screen, and may be pulled upward again to cancel the dismiss</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>所以在ScrollView上添加<code>scrollView.keyboardDismissMode = UIScrollViewKeyboardDismissMode.Interactive</code>就可以了。<br>效果详见iOS7及以上原生设备的短信滑动消失键盘的交互</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-2015-11-13" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/13/2015-11-13/" class="article-date">
  	<time datetime="2015-11-13T10:30:00.000Z" itemprop="datePublished">2015-11-13</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/13/2015-11-13/">周精益分享 - Swift入门专题</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="『图像和滤镜』-图像选择器"><a href="#『图像和滤镜』-图像选择器" class="headerlink" title="『图像和滤镜』 - 图像选择器"></a>『图像和滤镜』 - 图像选择器</h2><p><code>我们可以使用以下常规的图像获取方式</code></p>
<p><img src="./Simulator Screen Shot Nov 12, 2015, 8.11.12 PM.png" alt="Alt text"></p>
<p><code>图库与相册</code></p>
<p><img src="./Simulator Screen Shot Nov 12, 2015, 8.16.30 PM.png" alt="Alt text"></p>
<h4 id="系统自带"><a href="#系统自带" class="headerlink" title="系统自带"></a>系统自带</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesBegan</span><span class="params">(touches: Set&lt;UITouch&gt;, withEvent event: UIEvent?)</span></span> &#123;</div><div class="line">    </div><div class="line">    <span class="keyword">let</span> sheet = <span class="type">UIAlertController</span>(title: <span class="string">"图片选择"</span>, message: <span class="string">"简单版的三种选择"</span>, preferredStyle: .<span class="type">ActionSheet</span>)</div><div class="line">    <span class="comment">// 判断设备是否支持相机（iPod &amp; Simulator）</span></div><div class="line">    <span class="keyword">if</span> (<span class="type">UIImagePickerController</span>.isSourceTypeAvailable(.<span class="type">Camera</span>)) &#123;</div><div class="line">        sheet.addAction(<span class="type">UIAlertAction</span>.<span class="keyword">init</span>(title: <span class="string">"Camera"</span>, style: .<span class="type">Default</span>, handler: &#123; <span class="number">_</span> <span class="keyword">in</span></div><div class="line">            <span class="keyword">self</span>.showPhotoes(.<span class="type">Camera</span>)</div><div class="line">        &#125;))</div><div class="line">    &#125;</div><div class="line">    sheet.addAction(<span class="type">UIAlertAction</span>.<span class="keyword">init</span>(title: <span class="string">"PhotoLibrary"</span>, style: .<span class="type">Default</span>, handler: &#123; <span class="number">_</span> <span class="keyword">in</span></div><div class="line">        <span class="keyword">self</span>.showPhotoes(.<span class="type">PhotoLibrary</span>)</div><div class="line">    &#125;))</div><div class="line">    sheet.addAction(<span class="type">UIAlertAction</span>.<span class="keyword">init</span>(title: <span class="string">"SavedPhotosAlbum"</span>, style: .<span class="type">Default</span>, handler: &#123; <span class="number">_</span> <span class="keyword">in</span></div><div class="line">        <span class="keyword">self</span>.showPhotoes(.<span class="type">SavedPhotosAlbum</span>)</div><div class="line">    &#125;))</div><div class="line">    sheet.addAction(<span class="type">UIAlertAction</span>.<span class="keyword">init</span>(title: <span class="string">"Cancel"</span>, style: .<span class="type">Cancel</span>, handler: <span class="literal">nil</span>))</div><div class="line">    presentViewController(sheet, animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">func showPhotoes(source: UIImagePickerControllerSourceType) &#123;</div><div class="line">    let controller = UIImagePickerController()</div><div class="line">    controller.delegate = self</div><div class="line">    controller.sourceType = source</div><div class="line">    controller.allowsEditing = source == .SavedPhotosAlbum ? true:false</div><div class="line"></div><div class="line">    self.presentViewController(controller, animated: true, completion: nil)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>UIImagePickerController的代理</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">func imagePickerControllerDidCancel(picker: UIImagePickerController) &#123;</div><div class="line">    dismissViewControllerAnimated(true, completion: nil)</div><div class="line">&#125;</div><div class="line">// 非常坑，这个方法废弃了但代码提示只有它</div><div class="line">//	func imagePickerController(picker: UIImagePickerController, didFinishPickingImage image: UIImage, editingInfo: [String : AnyObject]?) &#123;</div><div class="line">//	&#125;</div><div class="line">func imagePickerController(picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [String : AnyObject]) &#123;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>#####<a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIImagePickerControllerDelegate_Protocol/#//apple_ref/doc/constant_group/Editing_Information_Keys" target="_blank" rel="external">info字典介绍</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">UIImagePickerControllerMediaType: String</div><div class="line">UIImagePickerControllerOriginalImage: UIImage</div><div class="line">UIImagePickerControllerEditedImage: UIImage</div><div class="line">UIImagePickerControllerCropRect: NSValue -&gt; CGRect</div><div class="line">// MediaURL只为视频提供</div><div class="line">UIImagePickerControllerMediaURL:  NSURL</div><div class="line">// LivePhoto是一张图片，保留那个moment的前后动作和声音</div><div class="line">UIImagePickerControllerLivePhoto: String</div><div class="line">// 摄像摄影时返回media的信息字典</div><div class="line">UIImagePickerControllerMediaMetadata: NSDictionary</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">// SavedPhotosAlbum 的 info 示例</div><div class="line"></div><div class="line">▿ 5 elements</div><div class="line">  ▿ [0] : 2 elements</div><div class="line">    - .0 : &quot;UIImagePickerControllerCropRect&quot;</div><div class="line">  ▿ [1] : 2 elements</div><div class="line">    - .0 : &quot;UIImagePickerControllerOriginalImage&quot;</div><div class="line">  ▿ [2] : 2 elements</div><div class="line">    - .0 : &quot;UIImagePickerControllerReferenceURL&quot;</div><div class="line">    - .1 : assets-library://asset/asset.JPG?id=99D53A1F-FEEF-40E1-8BB3-7DD55A43C8B7&amp;ext=JPG</div><div class="line">  ▿ [3] : 2 elements</div><div class="line">    - .0 : &quot;UIImagePickerControllerMediaType&quot;</div><div class="line">    - .1 : public.image</div><div class="line">  ▿ [4] : 2 elements</div><div class="line">    - .0 : &quot;UIImagePickerControllerEditedImage&quot;</div></pre></td></tr></table></figure>
<h3 id="自定义"><a href="#自定义" class="headerlink" title="自定义"></a>自定义</h3><p><img src="./1447343597718.png" alt="Alt text"></p>
<p>遍历相册的所有图片<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// AssetsLibrary.framework</span></div><div class="line"><span class="comment">// ALAssetsLibrary 的使用,但是它慢慢的被放弃了</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">loadLocalPhotoes</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="keyword">var</span> countOne = <span class="number">0</span></div><div class="line">        <span class="comment">//ALAssetsGroupSavedPhotos表示只读取相机胶卷（ALAssetsGroupAll则读取全部相簿）</span></div><div class="line">        assetsLibrary.enumerateGroupsWithTypes(<span class="type">ALAssetsGroupSavedPhotos</span>, usingBlock: &#123;</div><div class="line">            (group: <span class="type">ALAssetsGroup</span>!, stop) <span class="keyword">in</span></div><div class="line">            <span class="built_in">print</span>(<span class="string">"is goin"</span>)</div><div class="line">            <span class="keyword">if</span> group != <span class="literal">nil</span> &#123;</div><div class="line">                <span class="keyword">let</span> assetBlock : <span class="type">ALAssetsGroupEnumerationResultsBlock</span> = &#123;</div><div class="line">                    (result: <span class="type">ALAsset</span>!, index: <span class="type">Int</span>, stop) <span class="keyword">in</span></div><div class="line">                    <span class="keyword">if</span> result != <span class="literal">nil</span> &#123;</div><div class="line">                        <span class="keyword">self</span>.assets.append(result)</div><div class="line">                        countOne++</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">                group.enumerateAssetsUsingBlock(assetBlock)</div><div class="line">                <span class="built_in">print</span>(<span class="string">"assets:<span class="subst">\(countOne)</span>"</span>)</div><div class="line">                <span class="keyword">self</span>.startChangeLocalImages(<span class="number">0</span>)</div><div class="line">            &#125;</div><div class="line">            &#125;, failureBlock: &#123; (fail) <span class="keyword">in</span></div><div class="line">                <span class="built_in">print</span>(fail)</div><div class="line">        &#125;)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line"><span class="comment">// 展现本地图片</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">startChangeLocalImages</span><span class="params">(<span class="keyword">var</span> index: Int)</span></span>&#123;</div><div class="line">        <span class="keyword">if</span> index==assets.<span class="built_in">count</span> &#123;</div><div class="line">            index = <span class="number">0</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">let</span> myAsset = assets[index]</div><div class="line">        <span class="keyword">let</span> image = <span class="type">UIImage</span>(<span class="type">CGImage</span>:myAsset.thumbnail().takeUnretainedValue())</div><div class="line">        <span class="keyword">self</span>.backImageView.image = image</div><div class="line">        </div><div class="line">        <span class="keyword">let</span> popTime = dispatch_time(<span class="type">DISPATCH_TIME_NOW</span>, <span class="type">Int64</span>(<span class="number">1</span> * <span class="type">Double</span>(<span class="type">NSEC_PER_SEC</span>)))</div><div class="line">        dispatch_after(popTime, dispatch_get_main_queue()) &#123;</div><div class="line">            <span class="keyword">self</span>.startChangeLocalImages(index+<span class="number">1</span>)</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p>iOS9 开始使用新库<br><a href="https://developer.apple.com/library/prerelease/ios/documentation/Photos/Reference/PHPhotoLibrary_Class/index.html" target="_blank" rel="external">PHPhotoLibrary</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-2015-10-30" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/30/2015-10-30/" class="article-date">
  	<time datetime="2015-10-30T10:30:00.000Z" itemprop="datePublished">2015-10-30</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/30/2015-10-30/">周精益分享 - 程序员装逼指南</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="『图像和滤镜』"><a href="#『图像和滤镜』" class="headerlink" title="『图像和滤镜』"></a>『图像和滤镜』</h2><h3 id="图像"><a href="#图像" class="headerlink" title="图像"></a>图像</h3><h4 id="常见的图像格式"><a href="#常见的图像格式" class="headerlink" title="常见的图像格式"></a>常见的图像格式</h4><ul>
<li>png（Portable Network Graphic）便携式网络图形格式</li>
<li>tiff、tif（Tagged Image File Format）标记图像文件格式</li>
<li>jpg、jpeg（Joint Photographic Experts Group）联合摄影专家组</li>
<li>gif（Graphic Interchange Format）图形交换格式</li>
</ul>
<h4 id="图像实例化"><a href="#图像实例化" class="headerlink" title="图像实例化"></a>图像实例化</h4><ul>
<li><p>imageNamed:</p>
<blockquote>
<p>使用频率高，内存缓存优化</p>
</blockquote>
</li>
<li><p>imageWithContentsOfFile:</p>
<blockquote>
<p>单次使用，暂时不清楚如何支持ImageAssert下的图片路径</p>
</blockquote>
</li>
<li><p>imageWithData:</p>
<blockquote>
<p>本地或网络的文件数据加载</p>
</blockquote>
</li>
<li><p>imageWithCGImage:</p>
<blockquote>
<p>绘制生成图，代码如下</p>
</blockquote>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">// 旧图局部裁剪</div><div class="line">   CGImageRef myImageRef = [oldImage CGImageRef];</div><div class="line">   CGRect subRect = CGRectMake(20, 20, 100, 100);</div><div class="line">   CGImageRef cgCrop = CGImageCreateWithImageInRect(myImageRef, subRect);</div><div class="line">   UIImage *imageCrop = [UIImage imageWithCGImage:cgCrop];</div></pre></td></tr></table></figure>
<h4 id="显示图像"><a href="#显示图像" class="headerlink" title="显示图像"></a>显示图像</h4><blockquote>
<p>屏幕的缩放因子，导致我们需要@2x及@3x图，对视图截图操作也同样需要针对Retina及plus优化<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">- (UIImage*)screenShotBy:(UIImageView*)imagView</div><div class="line">&#123;</div><div class="line">//  UIGraphicsBeginImageContext(imagView.bounds.size);</div><div class="line">// 2表示Retina，3表示plus分辨率，1正常，0则是当前设备的缩放因子</div><div class="line">// YES 表示不包含图像的alpha通道</div><div class="line">	UIGraphicsBeginImageContextWithOptions((imagView.bounds.size), YES, 2);</div><div class="line">	[imagView.layer renderInContext:UIGraphicsGetCurrentContext()];</div><div class="line">	UIImage*image = UIGraphicsGetImageFromCurrentImageContext();</div><div class="line">	UIGraphicsEndImageContext();</div><div class="line">	return image;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
</blockquote>
<h5 id="contentModel"><a href="#contentModel" class="headerlink" title="contentModel"></a>contentModel</h5><p><em>图像内容展现方式</em></p>
<ul>
<li>UIViewContentModelScaleToFill（默认）</li>
<li>UIViewContentModelScaleAspectFill（下拉放大）</li>
<li>UIViewContentModelScaleAspectFit</li>
<li>UIViewContentModelCenter （一些停靠模式）</li>
<li>UIViewContentModelTop/Bottom</li>
<li>UIViewContentModelLeft/Right</li>
</ul>
<h5 id="拉伸属性"><a href="#拉伸属性" class="headerlink" title="拉伸属性"></a>拉伸属性</h5><p><code>代码</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">// 方法一</div><div class="line">image=[oldIconImage stretchableImageWithLeftCapWidth:10 topCapHeight:12];</div><div class="line"></div><div class="line">// 方法二</div><div class="line">image = [oldIconImage resizableImageWithCapInsets:UIEdgeInsetsMake(17, 17, 17, 25)];</div></pre></td></tr></table></figure></p>
<p><code>ImageAssert</code></p>
<p><img src="./1446137205500.png" alt="Alt text"><br>使用slicing，小变大无视差<br><img src="./1446137161636.png" alt="Alt text"></p>
<hr>
<h3 id="图像选择器"><a href="#图像选择器" class="headerlink" title="图像选择器"></a>图像选择器</h3><h4 id="系统自带"><a href="#系统自带" class="headerlink" title="系统自带"></a>系统自带</h4><h4 id="自定义"><a href="#自定义" class="headerlink" title="自定义"></a>自定义</h4><hr>
<h3 id="滤镜"><a href="#滤镜" class="headerlink" title="滤镜"></a>滤镜</h3><h3 id="人脸识别"><a href="#人脸识别" class="headerlink" title="人脸识别"></a>人脸识别</h3>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-2015-10-23" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/23/2015-10-23/" class="article-date">
  	<time datetime="2015-10-23T10:30:00.000Z" itemprop="datePublished">2015-10-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/23/2015-10-23/">周精益分享 - 英语</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="英语，程序员"><a href="#英语，程序员" class="headerlink" title="英语，程序员"></a>英语，程序员</h2><h3 id="网站"><a href="#网站" class="headerlink" title="网站"></a>网站</h3><ul>
<li><p><a href="http://www.italki.com" target="_blank" rel="external">iTalki</a></p>
<blockquote>
<p>语言交换及专业老师订课辅导的网站</p>
</blockquote>
</li>
<li><p><a href="https://www.youtube.com/channel/UCwA7Aepp7nRUJNa8roQ-6Bw" target="_blank" rel="external">YouTube一个订阅号</a></p>
<blockquote>
<p>比较有吸引力的老师，他的同事频道也很不错</p>
</blockquote>
</li>
<li><p><a href="http://www.raywenderlich.com/" target="_blank" rel="external">rayWenderlich</a></p>
<blockquote>
<p>主要是iOS方面的，安卓覆盖一些。涵盖文字、视频、播客三方面</p>
</blockquote>
</li>
</ul>
<h3 id="APP"><a href="#APP" class="headerlink" title="APP"></a>APP</h3><ul>
<li><p>飞鱼口语</p>
<blockquote>
<p>国内开发的一个及时练习口语的APP，主要是方便</p>
</blockquote>
</li>
<li><p>每日英语听力（欧陆词典推出的）</p>
<blockquote>
<p>radio 模块很不错，资源不算多但比较有质量。</p>
</blockquote>
</li>
<li><p>Podcast</p>
<ul>
<li>圆桌会议（RoundTable）</li>
<li>rayWenderlich （程序员职业发展及新技术点探讨，英式口语）</li>
</ul>
</li>
</ul>
<h3 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h3><ul>
<li>Skype 和志同道合的人交流，练习口语 </li>
</ul>
<h3 id="EF-Education"><a href="#EF-Education" class="headerlink" title="EF Education"></a>EF Education</h3><ul>
<li><a href="http://ec.ef.com" target="_blank" rel="external">网站地址</a><blockquote>
<p>想小试牛刀的记得想我拿一下账号密码</p>
</blockquote>
</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-2015-10-16" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/16/2015-10-16/" class="article-date">
  	<time datetime="2015-10-16T10:30:00.000Z" itemprop="datePublished">2015-10-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/16/2015-10-16/">周精益分享-谈谈未来、梦想、职业规划</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="兴趣主导，快乐很重要-杨志平"><a href="#兴趣主导，快乐很重要-杨志平" class="headerlink" title="兴趣主导，快乐很重要 - 杨志平"></a>兴趣主导，快乐很重要 - 杨志平</h2><ul>
<li><p>兴趣</p>
<ul>
<li>在失去当前工作兴趣之前，不会转行</li>
<li>职业规划随兴趣走</li>
</ul>
</li>
<li><p>肉身翻墙</p>
<ul>
<li>出去走一遭，趁年轻（工作或打工旅行）</li>
<li>去牛逼公司镀金</li>
</ul>
</li>
<li><p>终极目标</p>
<ul>
<li>年轻时，向往自由工作者的工作方式，能够养活自己的游行工作方式</li>
<li>适当年纪收心回归平常心（保持感兴趣的工作即可）</li>
</ul>
</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-2015-09-25" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/09/25/2015-09-25/" class="article-date">
  	<time datetime="2015-09-25T10:30:00.000Z" itemprop="datePublished">2015-09-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/09/25/2015-09-25/">设计规范交流</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>#Label的一些使用规范 - 杨志平</p>
<p>##动态适应字体大小</p>
<blockquote>
<p>iOS系统自带的常见字体样式（字号及粗细等等）</p>
<ul>
<li>UIFontTextStyleHeadline</li>
<li>UIFontTextStyleSubheadline</li>
<li>UIFontTextStyleBody</li>
<li>UIFontTextStyleFootnote</li>
<li>UIFontTextStyleCaption1</li>
<li>UIFontTextStyleCaption2</li>
</ul>
</blockquote>
<p>###效果如下：</p>
<p><img src="http://useyourloaf.com/assets/images/2013/2013-12-16-002.png" alt="Font"></p>
<h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">// 字体初始化</div><div class="line">UIFont *font = [UIFont preferredFontForTextStyle:UIFontTextStyleBody];</div><div class="line"></div><div class="line">// 通知需要刷新的文本字体</div><div class="line">    [[NSNotificationCenter defaultCenter]addObserver:self</div><div class="line">                                           selector:@selector(userTextSizeDidChange)</div><div class="line">                                               name:UIContentSizeCategoryDidChangeNotification</div><div class="line">                                             object:nil];</div></pre></td></tr></table></figure>
<h1 id="国际化支持（适配注意点）"><a href="#国际化支持（适配注意点）" class="headerlink" title="国际化支持（适配注意点）"></a>国际化支持（适配注意点）</h1><p>####工具：<a href="https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man1/genstrings.1.html" target="_blank" rel="external">genstrings</a></p>
<p>####参考：<a href="http://objccn.io/issue-9-3/" target="_blank" rel="external">博客链接</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">先看看它的宏定义：</div><div class="line">#define NSLocalizedString(key, comment) </div><div class="line">[[NSBundle mainBundle] localizedStringForKey:(key) value:@&quot;&quot; table:nil]</div></pre></td></tr></table></figure>
<p><strong>本地化对象：</strong>标签和按钮上的文本，或者在运行时获取的字符串和数据动态生成的字符串。</p>
<h3 id="难点"><a href="#难点" class="headerlink" title="难点"></a>难点</h3><h4 id="不同语言的语法问题"><a href="#不同语言的语法问题" class="headerlink" title="不同语言的语法问题"></a>不同语言的语法问题</h4><blockquote>
<p>语序，人称不一致：<br>「Paul invited you」和「You invited Paul」 -&gt; 「%@ invited %@」，看似可以<br>以德语为例，「Paul invited you」译为「Paul hat dich eingeladen」，<br>而「You invited Paul」则译为「Du hast Paul eingeladen」。<br>正确处理其他语言的特殊语法方案:「%@ invited you」和「You invited %@」。</p>
</blockquote>
<h4 id="一词多意"><a href="#一词多意" class="headerlink" title="一词多意"></a>一词多意</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">run -&gt; </div><div class="line">	 vt. &amp; vi. 跑</div><div class="line">	 移动</div><div class="line">	 (使)流动</div><div class="line">	 n. 跑, 奔跑</div><div class="line">	 旅行, 旅程</div><div class="line">	 行驶路线</div><div class="line">	 时期; 一段时间</div></pre></td></tr></table></figure>
<p>正确做法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">NSLocalizedString(@&quot;activity-profile.title.the-run&quot;, nil)  </div><div class="line">NSLocalizedString(@&quot;home.button.start-run&quot;, nil)</div></pre></td></tr></table></figure>
<p>或者：(完全没有试过)</p>
<blockquote>
<p>NSLocalizedString 有一些变体能够提供更多字符串本地化的操作方式。NSLocalizedStringFromTable 接收 key、table 和 comment 这三个参数，其中 table 参数表示该字符串对应的一个表格，genstrings 会为表中的每一个条目生成一个以条目名称（假设为 table-item）命名的独立字符串文件 table-item.strings。<br>这样你就可以把字符串文件分割成几个小一些的文件。在一个庞大的项目或者团队中工作时，这一点显得尤为重要。同时这也让合并原有的和重新生成的字符串文件变得容易一些。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">NSLocalizedStringFromTable(@&quot;home.button.start-run&quot;, @&quot;ActivityTracker&quot;, @&quot;some comment..&quot;)</div></pre></td></tr></table></figure>
<p>###调试本地化字符串（拓展）<br>应用支持的语言版本越多，确保所有元素都正确显示就越难。但是这里有一些默认的用户选项和工具可以减轻你的负担。</p>
<blockquote>
<p>NSDoubleLocalizedStrings<br>AppleTextDirection<br>NSForceRightToLeftWritingDirection<br>选项保证你的布局不会因为长字符串或者从右往左读的语言而混乱。</p>
<p>NSShowNonLocalizedStrings<br>NSShowNonLocalizableStrings<br>则可以帮助你找到没有翻译的字符串和根本没有制定字符串本地化宏的字符串。</p>
</blockquote>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-2015-09-11" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/09/14/2015-09-11/" class="article-date">
  	<time datetime="2015-09-14T12:00:00.000Z" itemprop="datePublished">2015-09-14</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/09/14/2015-09-11/">浅拷贝与深拷贝</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="浅拷贝与深拷贝"><a href="#浅拷贝与深拷贝" class="headerlink" title="浅拷贝与深拷贝"></a>浅拷贝与深拷贝</h2><blockquote>
<p> 程序中经常会遇到集合类的传值 <br><br> <strong> 坑：</strong> 数组操作时对于数组中的对象拷贝</p>
</blockquote>
<p>###目的：<br>观察array1、mArrayCopy、mArrayCopy2 三者区别</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">NSArray *array1 = [NSArray arrayWithObjects:[NSMutableString stringWithString:@&quot;a&quot;],@&quot;b&quot;,@&quot;c&quot;,nil];</div><div class="line">NSArray *mArrayCopy = [[NSArray alloc] initWithArray:array1 copyItems:YES];</div><div class="line">NSArray* mArrayCopy2 = [NSKeyedUnarchiver unarchiveObjectWithData:[NSKeyedArchiver archivedDataWithRootObject: array1]];</div></pre></td></tr></table></figure>
<h3 id="首先了解copy与retain的区别"><a href="#首先了解copy与retain的区别" class="headerlink" title="首先了解copy与retain的区别"></a>首先了解copy与retain的区别</h3><p><strong> OC对象引用计数器：屋里开灯规则 </strong></p>
<blockquote>
<p>copy是创建一个新对象，retain是创建一个指针，引用对象计数加1。Copy属性表示两个对象内容相同，新的对象retain为1 ，与旧有对象的引用计数无关，旧有对象没有变化。</p>
<p>retain属性表示两个对象地址相同（建立一个指针，指针拷贝），内容当然相同，这个对象的retain值+1也就是说，retain 是指针拷贝，copy 是内容拷贝。</p>
</blockquote>
<h3 id="主角：copy、mutableCopy"><a href="#主角：copy、mutableCopy" class="headerlink" title="主角：copy、mutableCopy"></a>主角：copy、mutableCopy</h3><p><strong><em>注意：可变和不可变对象使用copy、mutableCopy的区别</em></strong></p>
<blockquote>
<p>遵守NSCopying 协议的类可以发送copy消息，<br>遵守NSMutableCopying 协议的类才可以发送mutableCopy消息。</p>
<p>默认的ios类并没有遵守这两个协议<br>自定义copy 必须遵守NSCopying,并且实现 copyWithZone: 方法<br>自定义mutableCopy 那么就必须遵守NSMutableCopying,并且实现 mutableCopyWithZone: 方法</p>
</blockquote>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><h5 id="系统的非容器类对象"><a href="#系统的非容器类对象" class="headerlink" title="系统的非容器类对象"></a>系统的非容器类对象</h5><blockquote>
<p>这里指的是NSString,NSNumber等等一类的对象。</p>
</blockquote>
<p>示例1：<br>不可变string</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">NSString *string = @&quot;origionStr&quot;;</div><div class="line">NSString *string2 = string;</div><div class="line">NSString *stringCopy = [string copy];</div><div class="line">NSMutableString *stringMCopy = [string mutableCopy];</div><div class="line">[stringMCopy appendString:@&quot;!!!!&quot;];</div><div class="line">// log</div><div class="line">NSLog(@&quot;string      = %p %p %@ &quot;,string,&amp;string,string);</div><div class="line">NSLog(@&quot;string2     = %p %p %@ &quot;,string2,&amp;string2,string2);</div><div class="line">NSLog(@&quot;stringCopy  = %p %p %@ &quot;,stringCopy,&amp;stringCopy,stringCopy);</div><div class="line">NSLog(@&quot;stringMCopy = %p %p %@ &quot;,stringMCopy,&amp;stringMCopy,stringMCopy);</div></pre></td></tr></table></figure>
<p>结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">string      = 0x1064e7088		0x7fff597190a0 origionStr </div><div class="line">string2     = 0x1064e7088 		0x7fff59719098 origionStr </div><div class="line">stringCopy  = 0x1064e7088 		0x7fff59719090 origionStr </div><div class="line">stringMCopy = 0x7fafebdbb4b0	0x7fff59719088 origionStr!!!!</div></pre></td></tr></table></figure>
<p>示例2：<br>可变string</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">NSMutableString *string = [NSMutableString stringWithString: @&quot;origion&quot;];</div><div class="line">NSString *stringCopy = [string copy];</div><div class="line">NSMutableString *mStringCopy = [string copy];</div><div class="line">NSMutableString *stringMCopy = [string mutableCopy];</div><div class="line">[string appendString:@&quot; origion!&quot;];</div><div class="line">[stringMCopy appendString:@&quot;!!&quot;];</div><div class="line">NSLog(@&quot;string      = %p %@&quot;,string,string);</div><div class="line">NSLog(@&quot;stringCopy  = %p %@&quot;,stringCopy,stringCopy);</div><div class="line">NSLog(@&quot;stringMCopy = %p %@&quot;,mStringCopy,mStringCopy);</div><div class="line">NSLog(@&quot;stringMCopy = %p %@&quot;,stringMCopy,stringMCopy);</div></pre></td></tr></table></figure>
<p>结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">string      = 0x7fafebdec820 origion origion!</div><div class="line">stringCopy  = 0x7fafebdcb8c0 origion</div><div class="line">stringMCopy = 0x7fafebda4320 origion</div><div class="line">stringMCopy = 0x7fafebd32890 origion!!</div></pre></td></tr></table></figure>
<blockquote>
<p>对于系统的非容器类对象，我们可以认为，如果对一不可变对象复制，copy是指针复制（浅拷贝）和mutableCopy就是对象复制（深拷贝）。如果是对可变对象复制，都是深拷贝，但是copy返回的对象是不可变的。</p>
</blockquote>
<h5 id="系统的容器类对象"><a href="#系统的容器类对象" class="headerlink" title="系统的容器类对象"></a>系统的容器类对象</h5><blockquote>
<p>指NSArray,NSSet,NSDictionary等。对于容器类本身，上面讨论的结论也是适用的，需要探讨的是复制后容器内对象的变化。</p>
</blockquote>
<p>示例1：<br>不可变数组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">//copy返回不可变对象，mutablecopy返回可变对象</div><div class="line">NSArray *array1 = [NSArray arrayWithObjects:@&quot;a&quot;,@&quot;b&quot;,@&quot;c&quot;,nil];</div><div class="line">NSArray *arrayCopy1 = [array1 copy];</div><div class="line">NSMutableArray *mArrayCopy1 = [array1 mutableCopy];</div><div class="line">[mArrayCopy1 addObject:@&quot;de&quot;];</div><div class="line">[mArrayCopy1 removeObjectAtIndex:0];</div><div class="line">// log</div><div class="line">NSLog(@&quot;array1      = %p %@ %p %@&quot;,array1,array1,array1[1],array1[1]);</div><div class="line">NSLog(@&quot;arrayCopy1  = %p %@ %p %@&quot;,arrayCopy1,arrayCopy1,arrayCopy1[1],arrayCopy1[1]);</div><div class="line">NSLog(@&quot;mArrayCopy1 = %p %@ %p %@&quot;,mArrayCopy1,mArrayCopy1,mArrayCopy1[0],mArrayCopy1[0]);</div></pre></td></tr></table></figure>
<p>结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">array1      = 0x7fafebdeaed0 (a,b,c) 	0x1064e7228 b</div><div class="line">arrayCopy1  = 0x7fafebdeaed0 (a,b,c) 	0x1064e7228 b</div><div class="line">mArrayCopy1 = 0x7fafebdfc010 (b,c,de) 	0x1064e7228 b</div></pre></td></tr></table></figure>
<p>示例：<br>可变数组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">NSArray *array1 = [NSArray arrayWithObjects:@&quot;a&quot;,@&quot;b&quot;,@&quot;c&quot;,nil];</div><div class="line">NSMutableArray *mArrayCopy = [[NSMutableArray alloc] initWithArray:array1 copyItems:YES];</div><div class="line">NSLog(@&quot;array1      = %p %@ %p %@ %p %@&quot;,array1,    array1,     array1[0],      array1[0],      array1[1],      array1[1]);</div><div class="line">NSLog(@&quot;arrayCopy1  = %p %@ %p %@ %p %@&quot;,mArrayCopy,mArrayCopy, mArrayCopy[0],  mArrayCopy[0],  mArrayCopy[1],  mArrayCopy[1]);</div></pre></td></tr></table></figure>
<p>结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">array1      = 0x7fafebcb5ae0 (a,b,c)	 0x10afe1208 a 0x10afe1228 b</div><div class="line">arrayCopy1  = 0x7fafebcb5b10 (a,b,c)	 0x10afe1208 a 0x10afe1228 b</div></pre></td></tr></table></figure>
<p>示例2：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">NSArray *array1 = [NSArray arrayWithObjects:[NSMutableString stringWithString:@&quot;a&quot;],@&quot;b&quot;,@&quot;c&quot;,nil];</div><div class="line">NSMutableArray *mArrayCopy = [[NSMutableArray alloc] initWithArray:array1 copyItems:YES];</div><div class="line">NSArray* mArrayCopy2 = [NSKeyedUnarchiver unarchiveObjectWithData:[NSKeyedArchiver archivedDataWithRootObject: array1]];</div></pre></td></tr></table></figure>
<blockquote>
<p>mArrayCopy2是完全意义上的深拷贝，而mArrayCopy则不是</p>
<p>对于mArrayCopy内的不可变元素其还是指针复制。或者我们自己实现深拷贝的方法。因为如果容器的某一元素是不可变的，那你复制完后该对象仍旧是不能改变的，因此只需要指针复制即可。除非你对容器内的元素重新赋值，否则指针复制即已足够。</p>
</blockquote>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-2015-08-21" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/08/21/2015-08-21/" class="article-date">
  	<time datetime="2015-08-21T12:00:00.000Z" itemprop="datePublished">2015-08-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/21/2015-08-21/">那些年我们用过的第三方库</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="SnapKit（Masonry）-的使用-杨志平"><a href="#SnapKit（Masonry）-的使用-杨志平" class="headerlink" title="SnapKit（Masonry） 的使用 - 杨志平"></a>SnapKit（Masonry） 的使用 - 杨志平</h2><blockquote>
<p>这两个库的用法都是差不多的，只是由两个不同的人来主导开源  <br><br><strong><a href="https://github.com/SnapKit/SnapKit" target="_blank" rel="external">SnapKit</a></strong>是Swift版 <br><br><strong><a href="https://github.com/SnapKit/Masonry" target="_blank" rel="external">Masonry</a></strong>是OC版    </p>
<p>自动布局及交互式编程是iOS开发的趋势，同时Swift也会在不久将来替换OC语言。所以现在的iOS开发者可以开始学习Swift2.0 以及应用 Autolayout 来编程</p>
</blockquote>
<h3 id="代码对比（概况了解）"><a href="#代码对比（概况了解）" class="headerlink" title="代码对比（概况了解）"></a>代码对比（概况了解）</h3><h5 id="开始前OC原生布局代码"><a href="#开始前OC原生布局代码" class="headerlink" title="开始前OC原生布局代码"></a>开始前OC原生布局代码</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">UIView *superview = self;</div><div class="line"></div><div class="line">UIView *view1 = [[UIView alloc] init];</div><div class="line">view1.translatesAutoresizingMaskIntoConstraints = NO;</div><div class="line">view1.backgroundColor = [UIColor greenColor];</div><div class="line">[superview addSubview:view1];</div><div class="line"></div><div class="line">UIEdgeInsets padding = UIEdgeInsetsMake(10, 10, 10, 10);</div><div class="line"></div><div class="line">[superview addConstraints:@[</div><div class="line"></div><div class="line">   //view1 constraints</div><div class="line">   [NSLayoutConstraint constraintWithItem:view1</div><div class="line">                                attribute:NSLayoutAttributeTop</div><div class="line">                                relatedBy:NSLayoutRelationEqual</div><div class="line">                                   toItem:superview</div><div class="line">                                attribute:NSLayoutAttributeTop</div><div class="line">                               multiplier:1.0</div><div class="line">                                 constant:padding.top],</div><div class="line"></div><div class="line">   [NSLayoutConstraint constraintWithItem:view1</div><div class="line">                                attribute:NSLayoutAttributeLeft</div><div class="line">                                relatedBy:NSLayoutRelationEqual</div><div class="line">                                   toItem:superview</div><div class="line">                                attribute:NSLayoutAttributeLeft</div><div class="line">                               multiplier:1.0</div><div class="line">                                 constant:padding.left],</div><div class="line"></div><div class="line">   [NSLayoutConstraint constraintWithItem:view1</div><div class="line">                                attribute:NSLayoutAttributeBottom</div><div class="line">                                relatedBy:NSLayoutRelationEqual</div><div class="line">                                   toItem:superview</div><div class="line">                                attribute:NSLayoutAttributeBottom</div><div class="line">                               multiplier:1.0</div><div class="line">                                 constant:-padding.bottom],</div><div class="line"></div><div class="line">   [NSLayoutConstraint constraintWithItem:view1</div><div class="line">                                attribute:NSLayoutAttributeRight</div><div class="line">                                relatedBy:NSLayoutRelationEqual</div><div class="line">                                   toItem:superview</div><div class="line">                                attribute:NSLayoutAttributeRight</div><div class="line">                               multiplier:1</div><div class="line">                                 constant:-padding.right],</div><div class="line">	]];</div></pre></td></tr></table></figure>
<h5 id="使用Masonry"><a href="#使用Masonry" class="headerlink" title="使用Masonry"></a>使用Masonry</h5><p>精简</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">UIEdgeInsets padding = UIEdgeInsetsMake(10, 10, 10, 10);</div><div class="line"></div><div class="line">[view1 mas_makeConstraints:^(MASConstraintMaker *make) &#123;</div><div class="line">   make.top.equalTo(superview.mas_top).with.offset(padding.top); //with 	is an optional semantic filler</div><div class="line">	make.left.equalTo(superview.mas_left).with.offset(padding.left);</div><div class="line">	make.bottom.equalTo(superview.mas_bottom).with.offset(-	padding.bottom);</div><div class="line">	make.right.equalTo(superview.mas_right).with.offset(-padding.right);</div><div class="line">&#125;];</div></pre></td></tr></table></figure>
<p>更加精简</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[view1 mas_makeConstraints:^(MASConstraintMaker *make) &#123;</div><div class="line"> 	 	 make.edges.equalTo(superview).with.insets(padding);</div><div class="line">&#125;];</div></pre></td></tr></table></figure>
<h5 id="同理使用SnapKit"><a href="#同理使用SnapKit" class="headerlink" title="同理使用SnapKit"></a>同理使用SnapKit</h5><p>精简</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">let box = UIView()</div><div class="line">superview.addSubview(box)</div><div class="line"></div><div class="line">box.snp_makeConstraints &#123; (make) -&gt; Void in</div><div class="line">	make.top.equalTo(superview).offset(20)</div><div class="line">	make.left.equalTo(superview).offset(20)</div><div class="line">	make.bottom.equalTo(superview).offset(-20)</div><div class="line">   	make.right.equalTo(superview).offset(-20)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>更加精简</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">box.snp_makeConstraints &#123; (make) -&gt; Void in</div><div class="line">   	make.edges.equalTo(superview).inset(UIEdgeInsetsMake(20, 20, 20, 20))</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="如何使用-amp-amp-原理"><a href="#如何使用-amp-amp-原理" class="headerlink" title="如何使用 &amp;&amp; 原理"></a>如何使用 &amp;&amp; 原理</h3><h4 id="常见的约束类型对比"><a href="#常见的约束类型对比" class="headerlink" title="常见的约束类型对比"></a>常见的约束类型对比</h4><table>
<thead>
<tr>
<th>ViewAttribute</th>
<th>NSLayoutAttribute</th>
</tr>
</thead>
<tbody>
<tr>
<td>view.snp_left</td>
<td>NSLayoutAttribute.Left</td>
</tr>
<tr>
<td>view.snp_right</td>
<td>NSLayoutAttribute.Right</td>
</tr>
<tr>
<td>view.snp_top</td>
<td>NSLayoutAttribute.Top</td>
</tr>
<tr>
<td>view.snp_bottom</td>
<td>NSLayoutAttribute.Bottom</td>
</tr>
<tr>
<td>view.snp_leading</td>
<td>NSLayoutAttribute.Leading</td>
</tr>
<tr>
<td>view.snp_trailing</td>
<td>NSLayoutAttribute.Trailing</td>
</tr>
<tr>
<td>view.snp_width</td>
<td>NSLayoutAttribute.Width</td>
</tr>
<tr>
<td>view.snp_height</td>
<td>NSLayoutAttribute.Height</td>
</tr>
<tr>
<td>view.snp_centerX</td>
<td>NSLayoutAttribute.CenterX</td>
</tr>
<tr>
<td>view.snp_centerY</td>
<td>NSLayoutAttribute.CenterY</td>
</tr>
<tr>
<td>view.snp_baseline</td>
<td>NSLayoutAttribute.Baseline</td>
</tr>
</tbody>
</table>
<h4 id="常见的用法"><a href="#常见的用法" class="headerlink" title="常见的用法"></a>常见的用法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">make.top.equalTo(42)</div><div class="line">make.lessThanOrEqualTo.equalTo(SuperView)</div><div class="line">make.top.equalTo(SuperView)</div><div class="line">make.size.equalTo(CGSizeMake(50, 100))</div><div class="line">make.edges.equalTo(UIEdgeInsetsMake(10, 0, 10, 0))</div><div class="line">make.left.equalTo(view).offset(UIEdgeInsetsMake(10, 0, 10, 0))</div><div class="line"></div><div class="line">make.height.equalTo(OtherView).offset(10)</div><div class="line">make.trailing.equalTo(OtherView.snp_trailing).offset(10)</div><div class="line">make.bottom.equalTo(-20).priority(250)</div></pre></td></tr></table></figure>
<h4 id="对比交互式编程的约束布局"><a href="#对比交互式编程的约束布局" class="headerlink" title="对比交互式编程的约束布局"></a>对比交互式编程的约束布局</h4><p><img src="https://cloud.githubusercontent.com/assets/9360037/9401926/1e572316-4809-11e5-9a96-430e688cda85.png" alt="image"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-2015-07-26" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/07/26/2015-07-26/" class="article-date">
  	<time datetime="2015-07-26T16:08:35.000Z" itemprop="datePublished">2015-07-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/26/2015-07-26/">[上海] Android 小伙伴一起来 51offer 玩吧</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>国内留学行业整体上还是一个传统中介行业，51offer 致力于让人们更方便的通过互联网留学。<br>留学学生和留学学校虽然五花八门，但既有的留学流程大体一致，相应的盈利模式也比较清晰。但与之对应的如何切实通过产品降低留学门槛，在更多的学生与学校之间建立便利的联系，还有很多好玩的事情可以做。<br>在互联网留学这一块，51offer 目前可以算国内第一，同时身为一个互联网从业者客观来说，这个行业各公司产品、技术各方面还非常烂（包括我们 51offer）。</p>
<p>要做的事情很多，要决定不做的事情更多，要把不好变好的事情也有不少。<br>如果你愿意挑战既有现状，喜欢用聪明的方式把事情做好，最好再对这个教育细分领域感兴趣，让我们一起来做些有意义的事。</p>
<p>本人曾铭，ID: mithvv，目前负责公司移动团队。丁香园和百姓网的工作经历让我相信小而扁平的团队组织更加高效。如果前几天耗子和玉伯你站在耗子的一方，嗯，你会喜欢我们目前的合作方式。（ಥ_ಥ，想说玉伯也是我非常尊敬的前辈，他的观点适合支付宝……）</p>
<h2 id="公司状况"><a href="#公司状况" class="headerlink" title="公司状况"></a>公司状况</h2><ul>
<li>刚过 B 轮，<a href="http://cn.technode.com/post/2015-07-22/51offer-financing/" target="_blank" rel="external">两年内完成 5000 万美元融资</a>，自身盈利也一直很好，生死存亡的问题你暂时不用担心</li>
<li>我们基本不加班甚至很难让你加班，因为我们所有的加班（以小时计）都可以调休。我个人是每周三调休带孩子玩，周日上一天班 ；）</li>
<li>公司在上海火车站边上，地铁出站过个路口就到（下雨天忘带伞问题都不大）</li>
<li>技术团队人数目前 50+，谨慎扩张中</li>
<li>技术语言各端不同。后端主要是 Java（大部分），搜索 C++，爬虫 Python，前端和移动各公司应该区别不大，移动这边 Swift 正在一起学习，计划 2.0 正式版出来后用到产品中</li>
</ul>
<h2 id="招聘要求（不罗列每个职位的技术细节了，意义不大）"><a href="#招聘要求（不罗列每个职位的技术细节了，意义不大）" class="headerlink" title="招聘要求（不罗列每个职位的技术细节了，意义不大）"></a>招聘要求（不罗列每个职位的技术细节了，意义不大）</h2><ul>
<li>招 Android、Java、前端工程师，是工程师或者攻城狮，不招码农</li>
<li>至少作为主程参与过一个产品的完整开发过程</li>
<li>会或者可以快速学会 git，这样我们能快速在 Github 上玩起来</li>
<li>有经验或者了解持续集成、自动化测试及其意义，这样我们在如何快速开发上比较容易达成一致</li>
<li>能把一个技术点用自己的语言阐述清楚，我们的周技术分享期待你的 ShowTime</li>
<li>加分项<ul>
<li>践行开源</li>
<li>能跟产品从产品角度阐述清楚技术逻辑</li>
<li>有稳定维护的 Blog 或 Github 帐号</li>
<li>能自由访问国际互联网（如果不会我们教你，这点其实也必备）</li>
<li>对技术有热情，（比如上面一些条件你并不完全满足，但你自认思路清晰，学习能力强，就是要来面一面。我们非常非常欢迎对技术有热情的你！）</li>
</ul>
</li>
</ul>
<h2 id="薪资待遇"><a href="#薪资待遇" class="headerlink" title="薪资待遇"></a>薪资待遇</h2><ul>
<li>整体 10k - 20k 之间，具体面议，牛人没法封顶</li>
</ul>
<p>你都看到这了，简历快发给我吧: ming.z[at]51offer.com （24 小时内必有反馈哦）<br>有意聊天者时间你定，地点我定（工作忙，上海火车站附近即可），咖啡我请 ；）</p>
<p>原始链接：<a href="http://51offer.github.io/2015/07/26/%E4%B8%8A%E6%B5%B7-Android-%E5%B0%8F%E4%BC%99%E4%BC%B4%E4%B8%80%E8%B5%B7%E6%9D%A5-51offer-%E7%8E%A9%E5%90%A7/" target="_blank" rel="external">51offer-blog</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2018 ShirleyYoung
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>